(this["webpackJsonpbounty-admin-pc"]=this["webpackJsonpbounty-admin-pc"]||[]).push([[9,4],{332:function(e,t,a){"use strict";var c=a(339),n=a.n(c),o=a(4);t.a=function(e){var t=e.children,a=e.className;return Object(o.jsx)("div",{className:"".concat(n.a.header," ").concat(a||""),children:t})}},334:function(e,t,a){e.exports={"base-info-box":"style_base-info-box__3ZKI9","form-item-box":"style_form-item-box__2qc4p","item-checkbox":"style_item-checkbox__2o6IY","item-body":"style_item-body__14P3A","image-box":"style_image-box__31k3J","image-box-checkbox":"style_image-box-checkbox__-Ypxc","image-box-label":"style_image-box-label__o6LIp","delete-specification-button":"style_delete-specification-button__3GHdN","add-specification-button":"style_add-specification-button__2-XPH","add-feature-button":"style_add-feature-button__3DaZo","delete-feature-button":"style_delete-feature-button__3SPNr","action-box":"style_action-box__fQSXJ"}},339:function(e,t,a){e.exports={header:"style_header__Q4NWp"}},350:function(e,t,a){"use strict";a.d(t,"a",(function(){return j}));var c=a(8),n=a(0),o=a(5),l=a.n(o),r=a(58),d=a(364),i={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M328 544h368c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8z"}},{tag:"path",attrs:{d:"M880 112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V144c0-17.7-14.3-32-32-32zm-40 728H184V184h656v656z"}}]},name:"minus-square",theme:"outlined"},s=a(13),u=function(e,t){return n.createElement(s.a,Object.assign({},e,{ref:t,icon:i}))};u.displayName="MinusSquareOutlined";var f=n.forwardRef(u),b={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M328 544h152v152c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V544h152c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H544V328c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v152H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8z"}},{tag:"path",attrs:{d:"M880 112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V144c0-17.7-14.3-32-32-32zm-40 728H184V184h656v656z"}}]},name:"plus-square",theme:"outlined"},h=function(e,t){return n.createElement(s.a,Object.assign({},e,{ref:t,icon:b}))};h.displayName="PlusSquareOutlined";var p=n.forwardRef(h),m={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M840.4 300H183.6c-19.7 0-30.7 20.8-18.5 35l328.4 380.8c9.4 10.9 27.5 10.9 37 0L858.9 335c12.2-14.2 1.2-35-18.5-35z"}}]},name:"caret-down",theme:"filled"},v=function(e,t){return n.createElement(s.a,Object.assign({},e,{ref:t,icon:m}))};v.displayName="CaretDownFilled";var y=n.forwardRef(v),k=a(15);function j(e,t,a,o){var i,s=o.isLeaf,u=o.expanded;if(o.loading)return n.createElement(r.a,{className:"".concat(e,"-switcher-loading-icon")});if(a&&"object"===Object(c.a)(a)&&(i=a.showLeafIcon),s)return a?"object"!==Object(c.a)(a)||i?n.createElement(d.a,{className:"".concat(e,"-switcher-line-icon")}):n.createElement("span",{className:"".concat(e,"-switcher-leaf-line")}):null;var b="".concat(e,"-switcher-icon");return Object(k.b)(t)?Object(k.a)(t,{className:l()(t.props.className||"",b)}):t||(a?u?n.createElement(f,{className:"".concat(e,"-switcher-line-icon")}):n.createElement(p,{className:"".concat(e,"-switcher-line-icon")}):n.createElement(y,{className:b}))}},351:function(e,t,a){"use strict";a.d(t,"a",(function(){return x.a}));var c=a(1),n=a(2),o=a(3),l=a(7),r=a(9),d=a(10),i=a(19),s=a(11),u=a(12),f=a(0),b=a(32),h=a(20),p=a(5),m=a.n(p),v=a(360),y=a(345),k=a(328),j=a(6),g=a(17),O=a(403),_=a(28),x=a(340),C=function(e,t){var a=e.className,n=e.style,o=e.motion,l=e.motionNodes,r=e.motionType,d=e.onMotionStart,i=e.onMotionEnd,s=e.active,u=e.treeNodeRequiredProps,b=Object(g.a)(e,["className","style","motion","motionNodes","motionType","onMotionStart","onMotionEnd","active","treeNodeRequiredProps"]),h=f.useState(!0),p=Object(j.a)(h,2),y=p[0],O=p[1],C=f.useContext(v.a).prefixCls,N=f.useRef(!1),E=function(){N.current||i(),N.current=!0};return Object(f.useEffect)((function(){l&&"hide"===r&&y&&O(!1)}),[l]),Object(f.useEffect)((function(){return l&&d(),function(){l&&E()}}),[]),l?f.createElement(_.b,Object(c.a)({ref:t,visible:y},o,{motionAppear:"show"===r,onAppearEnd:E,onLeaveEnd:E}),(function(e,t){var a=e.className,n=e.style;return f.createElement("div",{ref:t,className:m()("".concat(C,"-treenode-motion"),a),style:n},l.map((function(e){var t=e.data,a=t.key,n=Object(g.a)(t,["key"]),o=e.isStart,l=e.isEnd;delete n.children;var r=Object(k.f)(a,u);return f.createElement(x.a,Object(c.a)({},n,r,{active:s,data:e.data,key:a,isStart:o,isEnd:l}))})))})):f.createElement(x.a,Object(c.a)({domRef:t,className:a,style:n},b,{active:s}))};C.displayName="MotionTreeNode";var N=f.forwardRef(C);function E(e,t,a){var c=e.findIndex((function(e){return e.data.key===a})),n=e[c+1],o=t.findIndex((function(e){return e.data.key===a}));if(n){var l=t.findIndex((function(e){return e.data.key===n.data.key}));return t.slice(o+1,l)}return t.slice(o+1)}var S={width:0,height:0,display:"flex",overflow:"hidden",opacity:0,border:0,padding:0,margin:0},w=function(){},K="RC_TREE_MOTION_".concat(Math.random()),P={key:K},D={key:K,level:0,index:0,pos:"0",node:P},I={parent:null,children:[],pos:D.pos,data:P,isStart:[],isEnd:[]};function L(e,t,a,c){return!1!==t&&a?e.slice(0,Math.ceil(a/c)+1):e}function T(e){var t=e.data.key,a=e.pos;return Object(k.e)(t,a)}var R=function(e,t){var a=e.prefixCls,n=e.data,o=(e.selectable,e.checkable,e.expandedKeys),l=e.selectedKeys,r=e.checkedKeys,d=e.loadedKeys,i=e.loadingKeys,s=e.halfCheckedKeys,u=e.keyEntities,b=e.disabled,h=e.dragging,p=e.dragOverNodeKey,m=e.dropPosition,v=e.motion,y=e.height,_=e.itemHeight,x=e.virtual,C=e.focusable,P=e.activeItem,D=e.focused,R=e.tabIndex,V=e.onKeyDown,M=e.onFocus,A=e.onBlur,H=e.onActiveChange,F=e.onListChangeStart,z=e.onListChangeEnd,W=Object(g.a)(e,["prefixCls","data","selectable","checkable","expandedKeys","selectedKeys","checkedKeys","loadedKeys","loadingKeys","halfCheckedKeys","keyEntities","disabled","dragging","dragOverNodeKey","dropPosition","motion","height","itemHeight","virtual","focusable","activeItem","focused","tabIndex","onKeyDown","onFocus","onBlur","onActiveChange","onListChangeStart","onListChangeEnd"]),q=f.useRef(null),B=f.useRef(null);f.useImperativeHandle(t,(function(){return{scrollTo:function(e){q.current.scrollTo(e)},getIndentWidth:function(){return B.current.offsetWidth}}}));var U=f.useState(o),$=Object(j.a)(U,2),G=$[0],J=$[1],X=f.useState(n),Y=Object(j.a)(X,2),Q=Y[0],Z=Y[1],ee=f.useState(n),te=Object(j.a)(ee,2),ae=te[0],ce=te[1],ne=f.useState([]),oe=Object(j.a)(ne,2),le=oe[0],re=oe[1],de=f.useState(null),ie=Object(j.a)(de,2),se=ie[0],ue=ie[1];function fe(){Z(n),ce(n),re([]),ue(null),z()}f.useEffect((function(){J(o);var e=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],a=e.length,c=t.length;if(1!==Math.abs(a-c))return{add:!1,key:null};function n(e,t){var a=new Map;e.forEach((function(e){a.set(e,!0)}));var c=t.filter((function(e){return!a.has(e)}));return 1===c.length?c[0]:null}return a<c?{add:!0,key:n(e,t)}:{add:!1,key:n(t,e)}}(G,o);if(null!==e.key)if(e.add){var t=Q.findIndex((function(t){return t.data.key===e.key})),a=L(E(Q,n,e.key),x,y,_),c=Q.slice();c.splice(t+1,0,I),ce(c),re(a),ue("show")}else{var l=n.findIndex((function(t){return t.data.key===e.key})),r=L(E(n,Q,e.key),x,y,_),d=n.slice();d.splice(l+1,0,I),ce(d),re(r),ue("hide")}else Q!==n&&(Z(n),ce(n))}),[o,n]),f.useEffect((function(){h||fe()}),[h]);var be=v?ae:n,he={expandedKeys:o,selectedKeys:l,loadedKeys:d,loadingKeys:i,checkedKeys:r,halfCheckedKeys:s,dragOverNodeKey:p,dropPosition:m,keyEntities:u};return f.createElement(f.Fragment,null,D&&P&&f.createElement("span",{style:S,"aria-live":"assertive"},function(e){for(var t=String(e.data.key),a=e;a.parent;)a=a.parent,t="".concat(a.data.key," > ").concat(t);return t}(P)),f.createElement("div",{role:"tree"},f.createElement("input",{style:S,disabled:!1===C||b,tabIndex:!1!==C?R:null,onKeyDown:V,onFocus:M,onBlur:A,value:"",onChange:w})),f.createElement("div",{className:"".concat(a,"-treenode"),"aria-hidden":!0,style:{position:"absolute",pointerEvents:"none",visibility:"hidden",height:0,overflow:"hidden"}},f.createElement("div",{className:"".concat(a,"-indent")},f.createElement("div",{ref:B,className:"".concat(a,"-indent-unit")}))),f.createElement(O.a,Object(c.a)({},W,{data:be,itemKey:T,height:y,fullHeight:!1,virtual:x,itemHeight:_,prefixCls:"".concat(a,"-list"),ref:q}),(function(e){var t=e.pos,a=e.data,n=a.key,o=Object(g.a)(a,["key"]),l=e.isStart,r=e.isEnd,d=Object(k.e)(n,t);delete o.children;var i=Object(k.f)(d,he);return f.createElement(N,Object(c.a)({},o,i,{active:!!P&&n===P.data.key,pos:t,data:e.data,isStart:l,isEnd:r,motion:v,motionNodes:n===K?le:null,motionType:se,onMotionStart:F,onMotionEnd:fe,treeNodeRequiredProps:he,onMouseMove:function(){H(null)}}))})))},V=f.forwardRef(R);V.displayName="NodeList";var M=V,A=a(348);var H=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){var e;return Object(r.a)(this,a),(e=t.apply(this,arguments)).destroyed=!1,e.state={keyEntities:{},indent:null,selectedKeys:[],checkedKeys:[],halfCheckedKeys:[],loadedKeys:[],loadingKeys:[],expandedKeys:[],dragging:!1,dragChildrenKeys:[],dropTargetKey:null,dropPosition:null,dropContainerKey:null,dropLevelOffset:null,dropTargetPos:null,dropAllowed:!0,dragOverNodeKey:null,treeData:[],flattenNodes:[],focused:!1,activeKey:null,listChanging:!1,prevProps:null},e.dragStartMousePosition=null,e.listRef=f.createRef(),e.onNodeDragStart=function(t,a){var c=e.state,n=c.expandedKeys,o=c.keyEntities,l=e.props.onDragStart,r=a.props.eventKey;e.dragNode=a,e.dragStartMousePosition={x:t.clientX,y:t.clientY};var d=Object(y.b)(n,r);e.setState({dragging:!0,dragChildrenKeys:Object(y.g)(r,o),indent:e.listRef.current.getIndentWidth()}),e.setExpandedKeys(d),window.addEventListener("dragend",e.onWindowDragEnd),l&&l({event:t,node:Object(k.b)(a.props)})},e.onNodeDragEnter=function(t,a){var c=e.state,n=c.expandedKeys,o=c.keyEntities,r=c.dragChildrenKeys,d=c.flattenNodes,s=c.indent,u=e.props,f=u.onDragEnter,b=u.onExpand,h=u.allowDrop,p=u.direction,m=a.props.pos,v=Object(i.a)(e).dragNode,j=Object(y.c)(t,v,a,s,e.dragStartMousePosition,h,d,o,n,p),g=j.dropPosition,O=j.dropLevelOffset,_=j.dropTargetKey,x=j.dropContainerKey,C=j.dropTargetPos,N=j.dropAllowed,E=j.dragOverNodeKey;v&&-1===r.indexOf(_)&&N?(e.delayedDragEnterLogic||(e.delayedDragEnterLogic={}),Object.keys(e.delayedDragEnterLogic).forEach((function(t){clearTimeout(e.delayedDragEnterLogic[t])})),v.props.eventKey!==a.props.eventKey&&(t.persist(),e.delayedDragEnterLogic[m]=window.setTimeout((function(){if(e.state.dragging){var c=Object(l.a)(n),r=o[a.props.eventKey];r&&(r.children||[]).length&&(c=Object(y.a)(n,a.props.eventKey)),"expandedKeys"in e.props||e.setExpandedKeys(c),b&&b(c,{node:Object(k.b)(a.props),expanded:!0,nativeEvent:t.nativeEvent})}}),800)),v.props.eventKey!==_||0!==O?(e.setState({dragOverNodeKey:E,dropPosition:g,dropLevelOffset:O,dropTargetKey:_,dropContainerKey:x,dropTargetPos:C,dropAllowed:N}),f&&f({event:t,node:Object(k.b)(a.props),expandedKeys:n})):e.setState({dragOverNodeKey:null,dropPosition:null,dropLevelOffset:null,dropTargetKey:null,dropContainerKey:null,dropTargetPos:null,dropAllowed:!1})):e.setState({dragOverNodeKey:null,dropPosition:null,dropLevelOffset:null,dropTargetKey:null,dropContainerKey:null,dropTargetPos:null,dropAllowed:!1})},e.onNodeDragOver=function(t,a){var c=e.state,n=c.dragChildrenKeys,o=c.flattenNodes,l=c.keyEntities,r=c.expandedKeys,d=c.indent,s=e.props,u=s.onDragOver,f=s.allowDrop,b=s.direction,h=Object(i.a)(e).dragNode,p=Object(y.c)(t,h,a,d,e.dragStartMousePosition,f,o,l,r,b),m=p.dropPosition,v=p.dropLevelOffset,j=p.dropTargetKey,g=p.dropContainerKey,O=p.dropAllowed,_=p.dropTargetPos,x=p.dragOverNodeKey;h&&-1===n.indexOf(j)&&O&&(h.props.eventKey===j&&0===v?null===e.state.dropPosition&&null===e.state.dropLevelOffset&&null===e.state.dropTargetKey&&null===e.state.dropContainerKey&&null===e.state.dropTargetPos&&!1===e.state.dropAllowed&&null===e.state.dragOverNodeKey||e.setState({dropPosition:null,dropLevelOffset:null,dropTargetKey:null,dropContainerKey:null,dropTargetPos:null,dropAllowed:!1,dragOverNodeKey:null}):m===e.state.dropPosition&&v===e.state.dropLevelOffset&&j===e.state.dropTargetKey&&g===e.state.dropContainerKey&&_===e.state.dropTargetPos&&O===e.state.dropAllowed&&x===e.state.dragOverNodeKey||e.setState({dropPosition:m,dropLevelOffset:v,dropTargetKey:j,dropContainerKey:g,dropTargetPos:_,dropAllowed:O,dragOverNodeKey:x}),u&&u({event:t,node:Object(k.b)(a.props)}))},e.onNodeDragLeave=function(t,a){var c=e.props.onDragLeave;c&&c({event:t,node:Object(k.b)(a.props)})},e.onWindowDragEnd=function(t){e.onNodeDragEnd(t,null,!0),window.removeEventListener("dragend",e.onWindowDragEnd)},e.onNodeDragEnd=function(t,a){var c=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=e.props.onDragEnd;e.setState({dragOverNodeKey:null}),e.cleanDragState(),n&&!c&&n({event:t,node:Object(k.b)(a.props)}),e.dragNode=null},e.onNodeDrop=function(t,a){var c,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],l=e.state,r=l.dragChildrenKeys,d=l.dropPosition,i=l.dropTargetKey,s=l.dropTargetPos,u=l.dropAllowed;if(u){var f=e.props.onDrop;if(e.setState({dragOverNodeKey:null}),e.cleanDragState(),null!==i){var b=Object(o.a)(Object(o.a)({},Object(k.f)(i,e.getTreeNodeRequiredProps())),{},{active:(null===(c=e.getActiveItem())||void 0===c?void 0:c.data.key)===i,data:e.state.keyEntities[i].node}),p=-1!==r.indexOf(i);Object(h.a)(!p,"Can not drop to dragNode's children node. This is a bug of rc-tree. Please report an issue.");var m=Object(y.k)(s),v={event:t,node:Object(k.b)(b),dragNode:e.dragNode?Object(k.b)(e.dragNode.props):null,dragNodesKeys:[e.dragNode.props.eventKey].concat(r),dropToGap:0!==d,dropPosition:d+Number(m[m.length-1])};f&&!n&&f(v),e.dragNode=null}}},e.cleanDragState=function(){e.state.dragging&&e.setState({dragging:!1,dropPosition:null,dropContainerKey:null,dropTargetKey:null,dropLevelOffset:null,dropAllowed:!0,dragOverNodeKey:null}),e.dragStartMousePosition=null},e.onNodeClick=function(t,a){var c=e.props.onClick;c&&c(t,a)},e.onNodeDoubleClick=function(t,a){var c=e.props.onDoubleClick;c&&c(t,a)},e.onNodeSelect=function(t,a){var c=e.state.selectedKeys,n=e.state.keyEntities,o=e.props,l=o.onSelect,r=o.multiple,d=a.selected,i=a.key,s=!d,u=(c=s?r?Object(y.a)(c,i):[i]:Object(y.b)(c,i)).map((function(e){var t=n[e];return t?t.node:null})).filter((function(e){return e}));e.setUncontrolledState({selectedKeys:c}),l&&l(c,{event:"select",selected:s,node:a,selectedNodes:u,nativeEvent:t.nativeEvent})},e.onNodeCheck=function(t,a,c){var n,o=e.state,r=o.keyEntities,d=o.checkedKeys,i=o.halfCheckedKeys,s=e.props,u=s.checkStrictly,f=s.onCheck,b=a.key,h={event:"check",node:a,checked:c,nativeEvent:t.nativeEvent};if(u){var p=c?Object(y.a)(d,b):Object(y.b)(d,b);n={checked:p,halfChecked:Object(y.b)(i,b)},h.checkedNodes=p.map((function(e){return r[e]})).filter((function(e){return e})).map((function(e){return e.node})),e.setUncontrolledState({checkedKeys:p})}else{var m=Object(A.a)([].concat(Object(l.a)(d),[b]),!0,r),v=m.checkedKeys,k=m.halfCheckedKeys;if(!c){var j=new Set(v);j.delete(b);var g=Object(A.a)(Array.from(j),{checked:!1,halfCheckedKeys:k},r);v=g.checkedKeys,k=g.halfCheckedKeys}n=v,h.checkedNodes=[],h.checkedNodesPositions=[],h.halfCheckedKeys=k,v.forEach((function(e){var t=r[e];if(t){var a=t.node,c=t.pos;h.checkedNodes.push(a),h.checkedNodesPositions.push({node:a,pos:c})}})),e.setUncontrolledState({checkedKeys:v},!1,{halfCheckedKeys:k})}f&&f(n,h)},e.onNodeLoad=function(t){return new Promise((function(a){e.setState((function(c){var n=c.loadedKeys,o=void 0===n?[]:n,l=c.loadingKeys,r=void 0===l?[]:l,d=e.props,i=d.loadData,s=d.onLoad,u=t.key;return i&&-1===o.indexOf(u)&&-1===r.indexOf(u)?(i(t).then((function(){var c=e.state,n=c.loadedKeys,o=c.loadingKeys,l=Object(y.a)(n,u),r=Object(y.b)(o,u);s&&s(l,{event:"load",node:t}),e.setUncontrolledState({loadedKeys:l}),e.setState({loadingKeys:r}),a()})),{loadingKeys:Object(y.a)(r,u)}):{}}))}))},e.onNodeMouseEnter=function(t,a){var c=e.props.onMouseEnter;c&&c({event:t,node:a})},e.onNodeMouseLeave=function(t,a){var c=e.props.onMouseLeave;c&&c({event:t,node:a})},e.onNodeContextMenu=function(t,a){var c=e.props.onRightClick;c&&(t.preventDefault(),c({event:t,node:a}))},e.onFocus=function(){var t=e.props.onFocus;e.setState({focused:!0}),t&&t.apply(void 0,arguments)},e.onBlur=function(){var t=e.props.onBlur;e.setState({focused:!1}),e.onActiveChange(null),t&&t.apply(void 0,arguments)},e.getTreeNodeRequiredProps=function(){var t=e.state;return{expandedKeys:t.expandedKeys||[],selectedKeys:t.selectedKeys||[],loadedKeys:t.loadedKeys||[],loadingKeys:t.loadingKeys||[],checkedKeys:t.checkedKeys||[],halfCheckedKeys:t.halfCheckedKeys||[],dragOverNodeKey:t.dragOverNodeKey,dropPosition:t.dropPosition,keyEntities:t.keyEntities}},e.setExpandedKeys=function(t){var a=e.state.treeData,c=Object(k.d)(a,t);e.setUncontrolledState({expandedKeys:t,flattenNodes:c},!0)},e.onNodeExpand=function(t,a){var c=e.state.expandedKeys,n=e.state.listChanging,o=e.props,l=o.onExpand,r=o.loadData,d=a.key,i=a.expanded;if(!n){var s=c.indexOf(d),u=!i;if(Object(h.a)(i&&-1!==s||!i&&-1===s,"Expand state not sync with index check"),c=u?Object(y.a)(c,d):Object(y.b)(c,d),e.setExpandedKeys(c),l&&l(c,{node:a,expanded:u,nativeEvent:t.nativeEvent}),u&&r){var f=e.onNodeLoad(a);f&&f.then((function(){var t=Object(k.d)(e.state.treeData,c);e.setUncontrolledState({flattenNodes:t})}))}}},e.onListChangeStart=function(){e.setUncontrolledState({listChanging:!0})},e.onListChangeEnd=function(){setTimeout((function(){e.setUncontrolledState({listChanging:!1})}))},e.onActiveChange=function(t){var a=e.state.activeKey,c=e.props.onActiveChange;a!==t&&(e.setState({activeKey:t}),null!==t&&e.scrollTo({key:t}),c&&c(t))},e.getActiveItem=function(){var t=e.state,a=t.activeKey,c=t.flattenNodes;return null===a?null:c.find((function(e){return e.data.key===a}))||null},e.offsetActiveKey=function(t){var a=e.state,c=a.flattenNodes,n=a.activeKey,o=c.findIndex((function(e){return e.data.key===n}));-1===o&&t<0&&(o=c.length);var l=c[o=(o+t+c.length)%c.length];if(l){var r=l.data.key;e.onActiveChange(r)}else e.onActiveChange(null)},e.onKeyDown=function(t){var a=e.state,c=a.activeKey,n=a.expandedKeys,l=a.checkedKeys,r=e.props,d=r.onKeyDown,i=r.checkable,s=r.selectable;switch(t.which){case b.a.UP:e.offsetActiveKey(-1),t.preventDefault();break;case b.a.DOWN:e.offsetActiveKey(1),t.preventDefault()}var u=e.getActiveItem();if(u&&u.data){var f=e.getTreeNodeRequiredProps(),h=!1===u.data.isLeaf||!!(u.data.children||[]).length,p=Object(k.b)(Object(o.a)(Object(o.a)({},Object(k.f)(c,f)),{},{data:u.data,active:!0}));switch(t.which){case b.a.LEFT:h&&n.includes(c)?e.onNodeExpand({},p):u.parent&&e.onActiveChange(u.parent.data.key),t.preventDefault();break;case b.a.RIGHT:h&&!n.includes(c)?e.onNodeExpand({},p):u.children&&u.children.length&&e.onActiveChange(u.children[0].data.key),t.preventDefault();break;case b.a.ENTER:case b.a.SPACE:!i||p.disabled||!1===p.checkable||p.disableCheckbox?i||!s||p.disabled||!1===p.selectable||e.onNodeSelect({},p):e.onNodeCheck({},p,!l.includes(c))}}d&&d(t)},e.setUncontrolledState=function(t){var a=arguments.length>1&&void 0!==arguments[1]&&arguments[1],c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(!e.destroyed){var n=!1,l=!0,r={};Object.keys(t).forEach((function(a){a in e.props?l=!1:(n=!0,r[a]=t[a])})),!n||a&&!l||e.setState(Object(o.a)(Object(o.a)({},r),c))}},e.scrollTo=function(t){e.listRef.current.scrollTo(t)},e}return Object(d.a)(a,[{key:"componentWillUnmount",value:function(){window.removeEventListener("dragend",this.onWindowDragEnd),this.destroyed=!0}},{key:"render",value:function(){var e,t=this.state,a=t.focused,o=t.flattenNodes,l=t.keyEntities,r=t.dragging,d=t.activeKey,i=t.dropLevelOffset,s=t.dropContainerKey,u=t.dropTargetKey,b=t.dropPosition,h=t.dragOverNodeKey,p=t.indent,k=this.props,j=k.prefixCls,g=k.className,O=k.style,_=k.showLine,x=k.focusable,C=k.tabIndex,N=void 0===C?0:C,E=k.selectable,S=k.showIcon,w=k.icon,K=k.switcherIcon,P=k.draggable,D=k.checkable,I=k.checkStrictly,L=k.disabled,T=k.motion,R=k.loadData,V=k.filterTreeNode,A=k.height,H=k.itemHeight,F=k.virtual,z=k.titleRender,W=k.dropIndicatorRender,q=k.onContextMenu,B=k.direction,U=Object(y.f)(this.props);return f.createElement(v.a.Provider,{value:{prefixCls:j,selectable:E,showIcon:S,icon:w,switcherIcon:K,draggable:P,checkable:D,checkStrictly:I,disabled:L,keyEntities:l,dropLevelOffset:i,dropContainerKey:s,dropTargetKey:u,dropPosition:b,dragOverNodeKey:h,indent:p,direction:B,dropIndicatorRender:W,loadData:R,filterTreeNode:V,titleRender:z,onNodeClick:this.onNodeClick,onNodeDoubleClick:this.onNodeDoubleClick,onNodeExpand:this.onNodeExpand,onNodeSelect:this.onNodeSelect,onNodeCheck:this.onNodeCheck,onNodeLoad:this.onNodeLoad,onNodeMouseEnter:this.onNodeMouseEnter,onNodeMouseLeave:this.onNodeMouseLeave,onNodeContextMenu:this.onNodeContextMenu,onNodeDragStart:this.onNodeDragStart,onNodeDragEnter:this.onNodeDragEnter,onNodeDragOver:this.onNodeDragOver,onNodeDragLeave:this.onNodeDragLeave,onNodeDragEnd:this.onNodeDragEnd,onNodeDrop:this.onNodeDrop}},f.createElement("div",{className:m()(j,g,(e={},Object(n.a)(e,"".concat(j,"-show-line"),_),Object(n.a)(e,"".concat(j,"-focused"),a),Object(n.a)(e,"".concat(j,"-active-focused"),null!==d),e))},f.createElement(M,Object(c.a)({ref:this.listRef,prefixCls:j,style:O,data:o,disabled:L,selectable:E,checkable:!!D,motion:T,dragging:r,height:A,itemHeight:H,virtual:F,focusable:x,focused:a,tabIndex:N,activeItem:this.getActiveItem(),onFocus:this.onFocus,onBlur:this.onBlur,onKeyDown:this.onKeyDown,onActiveChange:this.onActiveChange,onListChangeStart:this.onListChangeStart,onListChangeEnd:this.onListChangeEnd,onContextMenu:q},this.getTreeNodeRequiredProps(),U))))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var a,c=t.prevProps,l={prevProps:e};function r(t){return!c&&t in e||c&&c[t]!==e[t]}if(r("treeData")?a=e.treeData:r("children")&&(Object(h.a)(!1,"`children` of Tree is deprecated. Please use `treeData` instead."),a=Object(k.c)(e.children)),a){l.treeData=a;var d=Object(k.a)(a);l.keyEntities=Object(o.a)(Object(n.a)({},K,D),d.keyEntities)}var i,s=l.keyEntities||t.keyEntities;if(r("expandedKeys")||c&&r("autoExpandParent"))l.expandedKeys=e.autoExpandParent||!c&&e.defaultExpandParent?Object(y.e)(e.expandedKeys,s):e.expandedKeys;else if(!c&&e.defaultExpandAll){var u=Object(o.a)({},s);delete u[K],l.expandedKeys=Object.keys(u).map((function(e){return u[e].key}))}else!c&&e.defaultExpandedKeys&&(l.expandedKeys=e.autoExpandParent||e.defaultExpandParent?Object(y.e)(e.defaultExpandedKeys,s):e.defaultExpandedKeys);if(l.expandedKeys||delete l.expandedKeys,a||l.expandedKeys){var f=Object(k.d)(a||t.treeData,l.expandedKeys||t.expandedKeys);l.flattenNodes=f}if((e.selectable&&(r("selectedKeys")?l.selectedKeys=Object(y.d)(e.selectedKeys,e):!c&&e.defaultSelectedKeys&&(l.selectedKeys=Object(y.d)(e.defaultSelectedKeys,e))),e.checkable)&&(r("checkedKeys")?i=Object(y.j)(e.checkedKeys)||{}:!c&&e.defaultCheckedKeys?i=Object(y.j)(e.defaultCheckedKeys)||{}:a&&(i=Object(y.j)(e.checkedKeys)||{checkedKeys:t.checkedKeys,halfCheckedKeys:t.halfCheckedKeys}),i)){var b=i,p=b.checkedKeys,m=void 0===p?[]:p,v=b.halfCheckedKeys,j=void 0===v?[]:v;if(!e.checkStrictly){var g=Object(A.a)(m,!0,s);m=g.checkedKeys,j=g.halfCheckedKeys}l.checkedKeys=m,l.halfCheckedKeys=j}return r("loadedKeys")&&(l.loadedKeys=e.loadedKeys),l}}]),a}(f.Component);H.defaultProps={prefixCls:"rc-tree",showLine:!1,showIcon:!0,selectable:!0,multiple:!1,checkable:!1,disabled:!1,checkStrictly:!1,draggable:!1,defaultExpandParent:!0,autoExpandParent:!1,defaultExpandAll:!1,defaultExpandedKeys:[],defaultCheckedKeys:[],defaultSelectedKeys:[],dropIndicatorRender:function(e){var t=e.dropPosition,a=e.dropLevelOffset,c=e.indent,n={pointerEvents:"none",position:"absolute",right:0,backgroundColor:"red",height:2};switch(t){case-1:n.top=0,n.left=-a*c;break;case 1:n.bottom=0,n.left=-a*c;break;case 0:n.bottom=0,n.left=c}return f.createElement("div",{style:n})},allowDrop:function(){return!0}},H.TreeNode=x.a;var F=H;t.b=F},352:function(e,t,a){"use strict";var c=a(2),n=a(1),o=a(6),l=a(0),r=a(5),d=a.n(r),i=a(21),s=a(66),u=a(59),f=function(e,t){var a={};for(var c in e)Object.prototype.hasOwnProperty.call(e,c)&&t.indexOf(c)<0&&(a[c]=e[c]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var n=0;for(c=Object.getOwnPropertySymbols(e);n<c.length;n++)t.indexOf(c[n])<0&&Object.prototype.propertyIsEnumerable.call(e,c[n])&&(a[c[n]]=e[c[n]])}return a},b=function(e){var t,a=e.prefixCls,o=e.className,r=e.checked,i=e.onChange,s=e.onClick,b=f(e,["prefixCls","className","checked","onChange","onClick"]),h=(0,l.useContext(u.b).getPrefixCls)("tag",a),p=d()(h,(t={},Object(c.a)(t,"".concat(h,"-checkable"),!0),Object(c.a)(t,"".concat(h,"-checkable-checked"),r),t),o);return l.createElement("span",Object(n.a)({},b,{className:p,onClick:function(e){null===i||void 0===i||i(!r),null===s||void 0===s||s(e)}}))},h=a(145),p=a(147),m=function(e,t){var a={};for(var c in e)Object.prototype.hasOwnProperty.call(e,c)&&t.indexOf(c)<0&&(a[c]=e[c]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var n=0;for(c=Object.getOwnPropertySymbols(e);n<c.length;n++)t.indexOf(c[n])<0&&Object.prototype.propertyIsEnumerable.call(e,c[n])&&(a[c[n]]=e[c[n]])}return a},v=new RegExp("^(".concat(h.a.join("|"),")(-inverse)?$")),y=new RegExp("^(".concat(h.b.join("|"),")$")),k=function(e,t){var a,r=e.prefixCls,f=e.className,b=e.style,h=e.children,k=e.icon,j=e.color,g=e.onClose,O=e.closeIcon,_=e.closable,x=void 0!==_&&_,C=m(e,["prefixCls","className","style","children","icon","color","onClose","closeIcon","closable"]),N=l.useContext(u.b),E=N.getPrefixCls,S=N.direction,w=l.useState(!0),K=Object(o.a)(w,2),P=K[0],D=K[1];l.useEffect((function(){"visible"in C&&D(C.visible)}),[C.visible]);var I=function(){return!!j&&(v.test(j)||y.test(j))},L=Object(n.a)({backgroundColor:j&&!I()?j:void 0},b),T=I(),R=E("tag",r),V=d()(R,(a={},Object(c.a)(a,"".concat(R,"-").concat(j),T),Object(c.a)(a,"".concat(R,"-has-color"),j&&!T),Object(c.a)(a,"".concat(R,"-hidden"),!P),Object(c.a)(a,"".concat(R,"-rtl"),"rtl"===S),a),f),M=function(e){e.stopPropagation(),null===g||void 0===g||g(e),e.defaultPrevented||"visible"in C||D(!1)},A="onClick"in C||h&&"a"===h.type,H=Object(i.a)(C,["visible"]),F=k||null,z=F?l.createElement(l.Fragment,null,F,l.createElement("span",null,h)):h,W=l.createElement("span",Object(n.a)({},H,{ref:t,className:V,style:L}),z,x?O?l.createElement("span",{className:"".concat(R,"-close-icon"),onClick:M},O):l.createElement(s.a,{className:"".concat(R,"-close-icon"),onClick:M}):null);return A?l.createElement(p.a,null,W):W},j=l.forwardRef(k);j.displayName="Tag",j.CheckableTag=b;t.a=j},364:function(e,t,a){"use strict";var c=a(0),n={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M854.6 288.6L639.4 73.4c-6-6-14.1-9.4-22.6-9.4H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V311.3c0-8.5-3.4-16.7-9.4-22.7zM790.2 326H602V137.8L790.2 326zm1.8 562H232V136h302v216a42 42 0 0042 42h216v494z"}}]},name:"file",theme:"outlined"},o=a(13),l=function(e,t){return c.createElement(o.a,Object.assign({},e,{ref:t,icon:n}))};l.displayName="FileOutlined";t.a=c.forwardRef(l)},401:function(e,t,a){"use strict";var c=a(23),n=a(0),o=a(404),l=a(22),r=a(4);t.a=function(e){var t=e.type,a=e.onSelect,d=Object(l.c)(),i=Object(c.a)(d,2),s=i[0],u=i[1],f=Object(n.useState)([]),b=Object(c.a)(f,2),h=b[0],p=b[1];return Object(r.jsx)(o.a,{showSearch:!0,placeholder:"\u8bf7\u641c\u7d22.....",options:h,defaultActiveFirstOption:!1,value:"",showArrow:!1,filterOption:!1,onSearch:function(e){u(),s(window.$api.check_reject_list,{rejectPhraseType:t,rejectPhraseName:e,page:1,size:10}).then((function(e){var t=[];e.rejectPhrase.forEach((function(e){t.push({label:e.phraseName,value:e.id,relatedcodes:e.relatedCodes||[]})})),p(t)}))},onSelect:function(e,t){a(t)}})}},429:function(e,t,a){"use strict";var c=a(1),n=a(2),o=a(0),l=a(9),r=a(10),d=a(11),i=a(12),s=a(7),u=a(8),f=a(6),b=a(3),h=a(378),p=a(361),m=a(328),v=a(348),y=a(377),k=a(54),j=a(20),g=a(32),O=a(90),_=a(351),x=o.createContext(null);function C(e,t){if(!e)return!0;var a=e.data,c=a.disabled,n=a.disableCheckbox;switch(t){case"select":return c;case"checkbox":return c||n}return!1}function N(e,t){return[o.useCallback((function(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"select",c=arguments.length>2?arguments[2]:void 0,n=e.get(t);return!c&&C(n,a)?null:n}),[e]),o.useCallback((function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"select",c=arguments.length>2?arguments[2]:void 0,n=t.get(e);return!c&&C(n,a)?null:n}),[t])]}function E(e){return o.useMemo((function(){var t=new Map,a=new Map;return e.forEach((function(e){t.set(e.key,e),a.set(e.data.value,e)})),[t,a]}),[e])}var S={width:0,height:0,display:"flex",overflow:"hidden",opacity:0,border:0,padding:0,margin:0},w=function(e,t){var a=e.prefixCls,c=e.height,n=e.itemHeight,l=e.virtual,r=e.options,d=e.flattenOptions,i=e.multiple,u=e.searchValue,b=e.onSelect,h=e.onToggleOpen,p=e.open,m=e.notFoundContent,v=e.onMouseEnter,y=o.useContext(x),k=y.checkable,j=y.checkedKeys,C=y.halfCheckedKeys,w=y.treeExpandedKeys,K=y.treeDefaultExpandAll,P=y.treeDefaultExpandedKeys,D=y.onTreeExpand,I=y.treeIcon,L=y.showTreeIcon,T=y.switcherIcon,R=y.treeLine,V=y.treeNodeFilterProp,M=y.loadData,A=y.treeLoadedKeys,H=y.treeMotion,F=y.onTreeLoad,z=o.useRef(),W=Object(O.a)((function(){return r}),[p,r],(function(e,t){return t[0]&&e[1]!==t[1]})),q=E(d),B=Object(f.a)(q,2),U=N(B[0],B[1]),$=Object(f.a)(U,2),G=$[0],J=$[1],X=o.useMemo((function(){return j.map((function(e){var t=J(e);return t?t.key:null}))}),[j]),Y=o.useMemo((function(){return k?{checked:X,halfChecked:C}:null}),[X,C,k]);o.useEffect((function(){var e;p&&!i&&X.length&&(null===(e=z.current)||void 0===e||e.scrollTo({key:X[0]}))}),[p]);var Q=String(u).toLowerCase(),Z=o.useState(P),ee=Object(f.a)(Z,2),te=ee[0],ae=ee[1],ce=o.useState(null),ne=Object(f.a)(ce,2),oe=ne[0],le=ne[1],re=o.useMemo((function(){return w?Object(s.a)(w):u?oe:te}),[te,oe,Q,w]);o.useEffect((function(){u&&le(d.map((function(e){return e.key})))}),[u]);var de=function(e){e.preventDefault()},ie=function(e,t){var a=t.node.key,c=G(a,k?"checkbox":"select");null!==c&&b(c.data.value,{selected:!j.includes(c.data.value)}),i||h(!1)},se=o.useState(null),ue=Object(f.a)(se,2),fe=ue[0],be=ue[1],he=G(fe);if(o.useImperativeHandle(t,(function(){return{onKeyDown:function(e){var t;switch(e.which){case g.a.UP:case g.a.DOWN:case g.a.LEFT:case g.a.RIGHT:null===(t=z.current)||void 0===t||t.onKeyDown(e);break;case g.a.ENTER:null!==he&&ie(0,{node:{key:fe},selected:!j.includes(he.data.value)});break;case g.a.ESC:h(!1)}},onKeyUp:function(){}}})),0===W.length)return o.createElement("div",{role:"listbox",className:"".concat(a,"-empty"),onMouseDown:de},m);var pe={};return A&&(pe.loadedKeys=A),re&&(pe.expandedKeys=re),o.createElement("div",{onMouseDown:de,onMouseEnter:v},he&&p&&o.createElement("span",{style:S,"aria-live":"assertive"},he.data.value),o.createElement(_.b,Object.assign({ref:z,focusable:!1,prefixCls:"".concat(a,"-tree"),treeData:W,height:c,itemHeight:n,virtual:l,multiple:i,icon:I,showIcon:L,switcherIcon:T,showLine:R,loadData:u?null:M,motion:H,checkable:k,checkStrictly:!0,checkedKeys:Y,selectedKeys:k?[]:X,defaultExpandAll:K},pe,{onActiveChange:be,onSelect:ie,onCheck:ie,onExpand:function(e){ae(e),le(e),D&&D(e)},onLoad:F,filterTreeNode:function(e){return!!Q&&String(e[V]).toLowerCase().includes(Q)}})))},K=o.forwardRef(w);K.displayName="OptionList";var P=K,D=function(){return null},I=a(17),L=a(40);function T(e){return Object(L.a)(e).map((function(e){if(!o.isValidElement(e)||!e.type)return null;var t=e.key,a=e.props,c=a.children,n=a.value,l=Object(I.a)(a,["children","value"]),r=Object(b.a)({key:t,value:n},l),d=T(c);return d.length&&(r.children=d),r})).filter((function(e){return e}))}function R(e){if(!e)return e;var t=Object(b.a)({},e);return"props"in t||Object.defineProperty(t,"props",{get:function(){return Object(j.a)(!1,"New `rc-tree-select` not support return node instance as argument anymore. Please consider to remove `props` access."),t}}),t}function V(e){return Array.isArray(e)?e:void 0!==e?[e]:[]}function M(e,t){var a=new Map;return t.forEach((function(e){var t=e.data;a.set(t.value,t)})),e.map((function(e){return R(a.get(e))}))}function A(e){return e.disabled||e.disableCheckbox||!1===e.checkable}function H(e){for(var t=0,a=e.parent;a;)a=a.parent,t+=1;return t}function F(e){return Object(m.d)(function e(t){return(t||[]).map((function(t){var a=t.value,c=t.key,n=t.children,o=Object(b.a)(Object(b.a)({},t),{},{key:"key"in t?c:a});return n&&(o.children=e(n)),o}))}(e),!0).map((function(e){return{key:e.data.key,data:e.data,level:H(e)}}))}function z(e,t,a,c){var n=new Map;return V(t).forEach((function(e){e&&"object"===Object(u.a)(e)&&"value"in e&&n.set(e.value,e)})),e.map((function(e){var t={value:e},o=a(e,"select",!0),l=o?c(o.data):e;if(n.has(e)){var r=n.get(e);t.label="label"in r?r.label:l,"halfChecked"in r&&(t.halfChecked=r.halfChecked)}else t.label=l;return t}))}function W(e,t){new Set;return function e(a){return(a||[]).map((function(a){var c=a.key,n=a.value,o=a.children,l=Object(I.a)(a,["key","value","children"]),r="value"in a?n:c,d=Object(b.a)(Object(b.a)({},l),{},{key:null!==c&&void 0!==c?c:r,value:r,title:t(a)});return"children"in a&&(d.children=e(o)),d}))}(e)}function q(e,t,a){var c=a.getLabelProp,n=a.simpleMode,l=o.useRef({});return e?(l.current.formatTreeData=l.current.treeData===e?l.current.formatTreeData:W(n?function(e,t){var a=t.id,c=t.pId,n=t.rootPId,o={},l=[];return e.map((function(e){var t=Object(b.a)({},e),c=t[a];return o[c]=t,t.key=t.key||c,t})).forEach((function(e){var t=e[c],a=o[t];a&&(a.children=a.children||[],a.children.push(e)),(t===n||!a&&null===n)&&l.push(e)})),l}(e,Object(b.a)({id:"id",pId:"pId",rootPId:null},!0!==n?n:{})):e,c),l.current.treeData=e):l.current.formatTreeData=l.current.children===t?l.current.formatTreeData:W(T(t),c),l.current.formatTreeData}var B="SHOW_ALL",U="SHOW_PARENT",$="SHOW_CHILD";function G(e,t,a){var c=new Set(e);return t===$?e.filter((function(e){var t=a[e];return!(t&&t.children&&t.children.every((function(e){var t=e.node;return A(t)||c.has(t.key)})))})):t===U?e.filter((function(e){var t=a[e],n=t?t.parent:null;return!(n&&!A(n.node)&&c.has(n.node.key))})):e}var J=["expandedKeys","treeData","treeCheckable","showCheckedStrategy","searchPlaceholder","treeLine","treeIcon","showTreeIcon","switcherIcon","treeNodeFilterProp","filterTreeNode","dropdownPopupAlign","treeDefaultExpandAll","treeCheckStrictly","treeExpandedKeys","treeLoadedKeys","treeMotion","onTreeExpand","onTreeLoad","loadData","treeDataSimpleMode","treeNodeLabelProp","treeDefaultExpandedKeys"],X=Object(h.a)({prefixCls:"rc-tree-select",components:{optionList:P},convertChildrenToData:function(){return null},flattenOptions:F,getLabeledValue:p.e,filterOptions:function(e,t,a){var c,n=a.optionFilterProp,o=a.filterOption;return!1===o?t:(c="function"===typeof o?o:function(e){return function(t,a){var c=a[e];return String(c).toLowerCase().includes(String(t).toLowerCase())}}(n),function t(a){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return a.map((function(a){var o=a.children,l=n||c(e,R(a)),r=t(o||[],l);return l||r.length?Object(b.a)(Object(b.a)({},a),{},{children:r}):null})).filter((function(e){return e}))}(t))},isValueDisabled:function(e,t){var a=M([e],t)[0];return!!a&&a.disabled},findValueOption:M,omitDOMProps:function(e){var t=Object(b.a)({},e);return J.forEach((function(e){delete t[e]})),t}});X.displayName="Select";var Y=o.forwardRef((function(e,t){var a=e.multiple,c=e.treeCheckable,n=e.treeCheckStrictly,l=e.showCheckedStrategy,r=void 0===l?"SHOW_CHILD":l,d=e.labelInValue,i=e.loadData,b=e.treeLoadedKeys,h=e.treeNodeFilterProp,p=void 0===h?"value":h,g=e.treeNodeLabelProp,O=e.treeDataSimpleMode,_=e.treeData,C=e.treeExpandedKeys,S=e.treeDefaultExpandedKeys,w=e.treeDefaultExpandAll,K=e.children,P=e.treeIcon,I=e.showTreeIcon,L=e.switcherIcon,T=e.treeLine,R=e.treeMotion,M=e.filterTreeNode,A=e.dropdownPopupAlign,H=e.onChange,W=e.onTreeExpand,B=e.onTreeLoad,U=e.onDropdownVisibleChange,$=e.onSelect,J=e.onDeselect,Y=c||n,Q=a||Y,Z=c&&!n,ee=n||d,te=o.useRef(null);o.useImperativeHandle(t,(function(){return{focus:te.current.focus,blur:te.current.blur}}));var ae=function(e){return _&&e.label||e.title},ce=function(e){return g?e[g]:ae(e)},ne=q(_,K,{getLabelProp:ae,simpleMode:O}),oe=E(Object(o.useMemo)((function(){return F(ne)}),[ne])),le=Object(f.a)(oe,2),re=N(le[0],le[1]),de=Object(f.a)(re,2),ie=de[0],se=de[1],ue=Object(o.useMemo)((function(){return Z?Object(m.a)(ne):{keyEntities:null}}),[ne,c,n]).keyEntities,fe=Object(k.a)(e.defaultValue,{value:e.value}),be=Object(f.a)(fe,2),he=be[0],pe=be[1],me=function(e){var t=[],a=[];return e.forEach((function(e){se(e)?a.push(e):t.push(e)})),{missingRawValues:t,existRawValues:a}},ve=Object(o.useMemo)((function(){var e=[],t=[];if(V(he).forEach((function(a){if(a&&"object"===Object(u.a)(a)&&"value"in a)if(a.halfChecked&&n){var c=se(a.value);e.push(c?c.key:a.value)}else t.push(a.value);else t.push(a)})),Z){var a=me(t),c=a.missingRawValues,o=a.existRawValues.map((function(e){return se(e).key})),l=Object(v.a)(o,!0,ue),r=l.checkedKeys,d=l.halfCheckedKeys;return[[].concat(Object(s.a)(c),Object(s.a)(r.map((function(e){return ie(e).data.value})))),d]}return[t,e]}),[he,Q,ee,c,n]),ye=Object(f.a)(ve,2),ke=ye[0],je=ye[1],ge=function(e,t){var a=t.value,c=t.getEntityByValue,n=t.getEntityByKey,l=t.treeConduction,r=t.showCheckedStrategy,d=t.conductKeyEntities,i=t.getLabelProp;return o.useMemo((function(){var t=e;return l&&(t=G(e.map((function(e){var t=c(e);return t?t.key:e})),r,d).map((function(e){var t=n(e);return t?t.data.value:e}))),z(t,a,c,i)}),[e,a,l,r,c])}(ke,{treeConduction:Z,value:he,showCheckedStrategy:r,conductKeyEntities:ue,getEntityByValue:se,getEntityByKey:ie,getLabelProp:ce}),Oe=function(e,t,a){if(pe(Q?e:e[0]),H){var c=e;if(Z&&"SHOW_ALL"!==r){var l=G(e.map((function(e){var t=se(e);return t?t.key:e})),r,ue);c=l.map((function(e){var t=ie(e);return t?t.data.value:e}))}var d=t||{triggerValue:void 0,selected:void 0},i=d.triggerValue,u=d.selected,f=ee?z(c,he,se,ce):c;if(n){var b=je.map((function(e){var t=ie(e);return t?t.data.value:e})).filter((function(e){return!c.includes(e)}));f=[].concat(Object(s.a)(f),Object(s.a)(z(b,he,se,ce)))}var h={preValue:ge,triggerValue:i},p=!0;(n||"selection"===a&&!u)&&(p=!1),function(e,t,a,c,n){var l=null,r=null;function d(){r||(r=[],function e(c){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"0",d=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return c.map((function(c,i){var s="".concat(n,"-").concat(i),u=a.includes(c.value),f=e(c.children||[],s,u),b=o.createElement(D,Object.assign({},c),f.map((function(e){return e.node})));if(t===c.value&&(l=b),u){var h={pos:s,node:b,children:f};return d||r.push(h),h}return null})).filter((function(e){return e}))}(c),r.sort((function(e,t){var c=e.node.props.value,n=t.node.props.value;return a.indexOf(c)-a.indexOf(n)})))}Object.defineProperty(e,"triggerNode",{get:function(){return Object(j.a)(!1,"`triggerNode` is deprecated. Please consider decoupling data with node."),d(),l}}),Object.defineProperty(e,"allCheckedNodes",{get:function(){return Object(j.a)(!1,"`allCheckedNodes` is deprecated. Please consider decoupling data with node."),d(),n?r:r.map((function(e){return e.node}))}})}(h,i,e,ne,p),Y?h.checked=u:h.selected=u,H(Q?f:f[0],ee?null:c.map((function(e){var t=se(e);return t?ce(t.data):null})),h)}},_e=o.useCallback((function(e){if(U){var t={};Object.defineProperty(t,"documentClickClose",{get:function(){return Object(j.a)(!1,"Second param of `onDropdownVisibleChange` has been removed."),!1}}),U(e,t)}}),[U]);var xe={optionLabelProp:null,optionFilterProp:p,dropdownAlign:A,internalProps:{mark:y.a,onClear:function(){Oe([],null,"clear")},skipTriggerChange:!0,skipTriggerSelect:!0,onRawSelect:function(e,t,a){var c=e;if(Q){var n=function(e,t){var a=new Set(e);return a.add(t),Array.from(a)}(ke,e);if(Z){var o=me(n),l=o.missingRawValues,r=o.existRawValues.map((function(e){return se(e).key})),d=Object(v.a)(r,!0,ue).checkedKeys;n=[].concat(Object(s.a)(l),Object(s.a)(d.map((function(e){return ie(e).data.value}))))}Oe(n,{selected:!0,triggerValue:e},a)}else Oe([e],{selected:!0,triggerValue:e},a);$&&$(c,t)},onRawDeselect:function(e,t,a){var c=e,n=function(e,t){var a=new Set(e);return a.delete(t),Array.from(a)}(ke,e);if(Z){var o=me(n),l=o.missingRawValues,r=o.existRawValues.map((function(e){return se(e).key})),d=Object(v.a)(r,{checked:!1,halfCheckedKeys:je},ue).checkedKeys;n=[].concat(Object(s.a)(l),Object(s.a)(d.map((function(e){return ie(e).data.value}))))}Oe(n,{selected:!1,triggerValue:e},a),J&&J(c,t)}}};return"filterTreeNode"in e&&(xe.filterOption=M),o.createElement(x.Provider,{value:{checkable:Y,loadData:i,treeLoadedKeys:b,onTreeLoad:B,checkedKeys:ke,halfCheckedKeys:je,treeDefaultExpandAll:w,treeExpandedKeys:C,treeDefaultExpandedKeys:S,onTreeExpand:W,treeIcon:P,treeMotion:R,showTreeIcon:I,switcherIcon:L,treeLine:T,treeNodeFilterProp:p}},o.createElement(X,Object.assign({ref:te,mode:Q?"multiple":null},e,xe,{value:ge,labelInValue:!0,options:ne,onChange:null,onSelect:null,onDeselect:null,onDropdownVisibleChange:_e})))})),Q=function(e){Object(d.a)(a,e);var t=Object(i.a)(a);function a(){var e;return Object(l.a)(this,a),(e=t.apply(this,arguments)).selectRef=o.createRef(),e.focus=function(){e.selectRef.current.focus()},e.blur=function(){e.selectRef.current.blur()},e}return Object(r.a)(a,[{key:"render",value:function(){return o.createElement(Y,Object.assign({ref:this.selectRef},this.props))}}]),a}(o.Component);Q.TreeNode=D,Q.SHOW_ALL=B,Q.SHOW_PARENT=U,Q.SHOW_CHILD=$;var Z=Q,ee=a(5),te=a.n(ee),ae=a(21),ce=a(59),ne=a(16),oe=a(380),le=a(350),re=a(34),de=a(27),ie=function(e,t){var a={};for(var c in e)Object.prototype.hasOwnProperty.call(e,c)&&t.indexOf(c)<0&&(a[c]=e[c]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var n=0;for(c=Object.getOwnPropertySymbols(e);n<c.length;n++)t.indexOf(c[n])<0&&Object.prototype.propertyIsEnumerable.call(e,c[n])&&(a[c[n]]=e[c[n]])}return a},se=function(e,t){var a,l=e.prefixCls,r=e.size,d=e.bordered,i=void 0===d||d,s=e.className,u=e.treeCheckable,f=e.multiple,b=e.listHeight,h=void 0===b?256:b,p=e.listItemHeight,m=void 0===p?26:p,v=e.notFoundContent,y=e.switcherIcon,k=e.treeLine,j=e.getPopupContainer,g=e.dropdownClassName,O=e.treeIcon,_=void 0!==O&&O,x=e.transitionName,C=e.choiceTransitionName,N=void 0===C?"":C,E=ie(e,["prefixCls","size","bordered","className","treeCheckable","multiple","listHeight","listItemHeight","notFoundContent","switcherIcon","treeLine","getPopupContainer","dropdownClassName","treeIcon","transitionName","choiceTransitionName"]),S=o.useContext(ce.b),w=S.getPopupContainer,K=S.getPrefixCls,P=S.renderEmpty,D=S.direction,I=S.virtual,L=S.dropdownMatchSelectWidth,T=o.useContext(re.b);Object(ne.a)(!1!==f||!u,"TreeSelect","`multiple` will alway be `true` when `treeCheckable` is true");var R,V=K("select",l),M=K("select-tree",l),A=K("tree-select",l),H=te()(g,"".concat(A,"-dropdown"),Object(n.a)({},"".concat(A,"-dropdown-rtl"),"rtl"===D)),F=!(!u&&!f),z=Object(oe.a)(Object(c.a)(Object(c.a)({},E),{multiple:F,prefixCls:V})),W=z.suffixIcon,q=z.removeIcon,B=z.clearIcon;R=void 0!==v?v:P("Select");var U=Object(ae.a)(E,["suffixIcon","itemIcon","removeIcon","clearIcon","switcherIcon"]),$=r||T,G=te()(!l&&A,(a={},Object(n.a)(a,"".concat(V,"-lg"),"large"===$),Object(n.a)(a,"".concat(V,"-sm"),"small"===$),Object(n.a)(a,"".concat(V,"-rtl"),"rtl"===D),Object(n.a)(a,"".concat(V,"-borderless"),!i),a),s),J=K();return o.createElement(Z,Object(c.a)({virtual:I,dropdownMatchSelectWidth:L},U,{ref:t,prefixCls:V,className:G,listHeight:h,listItemHeight:m,treeCheckable:u?o.createElement("span",{className:"".concat(V,"-tree-checkbox-inner")}):u,inputIcon:W,multiple:f,removeIcon:q,clearIcon:B,switcherIcon:function(e){return Object(le.a)(M,y,k,e)},showTreeIcon:_,notFoundContent:R,getPopupContainer:j||w,treeMotion:null,dropdownClassName:H,choiceTransitionName:Object(de.b)(J,"",N),transitionName:Object(de.b)(J,"slide-up",x)}))},ue=o.forwardRef(se);ue.TreeNode=D,ue.SHOW_ALL=B,ue.SHOW_PARENT=U,ue.SHOW_CHILD=$;t.a=ue},460:function(e,t,a){},493:function(e,t,a){"use strict";a.r(t);var c=a(30),n=a(23),o=a(0),l=a(63),r=a(332),d=a(22),i=a(317),s=a(64),u=a(334),f=a.n(u),b=a(4);var h=function(e){var t=e.labelCol,a=e.data;return Object(b.jsx)(i.a,{component:!1,labelCol:t,children:Object(b.jsx)(i.a.Item,{className:"form-item-mt-16 form-item-mb-0",label:"\u5546\u54c1\u7f16\u53f7",children:Object(b.jsx)("div",{className:"".concat(f.a["form-item-box"]),children:Object(b.jsx)("div",{className:" ".concat(f.a["item-body"]),children:Object(b.jsx)(s.a,{value:a.productCode,setValue:function(){},disabled:!0})})})})})},p=a(406);var m=function(e){var t=e.labelCol,a=e.data,c=e.updateData;return Object(b.jsx)(i.a,{component:!1,labelCol:t,children:Object(b.jsx)(i.a.Item,{className:"form-item-mt-10 form-item-mb-0",label:"\u5546\u54c1\u6761\u7801",children:Object(b.jsxs)("div",{className:"".concat(f.a["form-item-box"]," clearfix"),children:[Object(b.jsx)("div",{className:f.a["item-checkbox"],children:Object(b.jsx)(p.a,{className:"".concat(a.local_is_checking||"2"!==a.barcode.status?"":"check_product_detail-reject-checkbox"),checked:a.barcode.local_checked,onChange:function(e){c((function(t){t.content.barcode.local_checked=e.target.checked}))},disabled:a.barcode.local_disabled})}),Object(b.jsx)("div",{className:f.a["item-body"],children:Object(b.jsx)(s.a,{value:a.barcode.value,setValue:function(e){c((function(t){t.content.barcode.value=e}))}})})]})})})},v=a(97);var y=function(e){var t=e.data,a=e.labelCol,c=e.updateData,n=function(){for(var e=!0,a=t.pictures.value,c=0;c<a.length;c+=1)if(!1===a[c].local_checked){e=!1;break}return e}();function o(e){c((function(t){t.content.pictures.value[e.target["data-index"]].local_checked=e.target.checked}))}return Object(b.jsx)(i.a,{component:!1,labelCol:a,children:Object(b.jsx)(i.a.Item,{className:"form-item-mt-10 form-item-mb-0",label:"\u56fe\u7247",required:!0,children:Object(b.jsxs)("div",{style:{width:360},children:[Object(b.jsxs)("div",{className:"clearfix",children:[Object(b.jsx)("div",{className:f.a["item-checkbox"],children:Object(b.jsx)(p.a,{className:"".concat(t.local_is_checking||"2"!==t.pictures.status?"":"check_product_detail-reject-checkbox"),checked:n,onChange:function(e){c((function(t){t.content.pictures.value.forEach((function(t){t.local_checked=e.target.checked}))}))},disabled:t.pictures.local_disabled})}),Object(b.jsx)("div",{className:"".concat(f.a["item-body"]," leading-32"),children:"\u5168\u9009\u56fe\u7247\uff08\u4e3b\u89c6\u56fe\u3001\u4fa7\u89c6\u56fe\u3001\u5305\u88c5\u53c2\u6570\u3001\u5176\u4ed6\u56fe\u7247\uff09"})]}),Object(b.jsx)("div",{className:"clearfix",children:t.pictures.value.map((function(e,a){return Object(b.jsxs)("div",{className:"".concat(f.a["image-box"]," float-left relative check_product_detail-image-wrap"),children:[Object(b.jsx)(v.a,{width:82,height:"",src:e.picUrl,preview:!0}),Object(b.jsx)(p.a,{className:"".concat(f.a["image-box-checkbox"]," ").concat(t.local_is_checking||"2"!==e.subStatus?"":"check_product_detail-reject-checkbox"),checked:e.local_checked,onChange:o,"data-index":a,disabled:e.local_disabled}),Object(b.jsx)("span",{className:f.a["image-box-label"],children:e.itemName})]},a)}))})]})})})},k=a(1),j=a(8),g=a(6),O=a(40),_=a(5),x=a.n(_),C=a(21),N=a(404),E=a(59),S=a(16),w=a(15),K=N.a.Option;function P(e){return e&&e.type&&(e.type.isSelectOption||e.type.isSelectOptGroup)}var D=function(e,t){var a,c=e.prefixCls,n=e.className,l=e.children,r=e.dataSource,d=Object(O.a)(l);if(1===d.length&&Object(w.b)(d[0])&&!P(d[0])){var i=Object(g.a)(d,1);a=i[0]}var s,u=a?function(){return a}:void 0;return s=d.length&&P(d[0])?l:r?r.map((function(e){if(Object(w.b)(e))return e;switch(Object(j.a)(e)){case"string":return o.createElement(K,{key:e,value:e},e);case"object":var t=e.value;return o.createElement(K,{key:t,value:t},e.text);default:throw new Error("AutoComplete[dataSource] only supports type `string[] | Object[]`.")}})):[],o.useEffect((function(){Object(S.a)(!("dataSource"in e),"AutoComplete","`dataSource` is deprecated, please use `options` instead."),Object(S.a)(!a||!("size"in e),"AutoComplete","You need to control style self instead of setting `size` when using customize input.")}),[]),o.createElement(E.a,null,(function(a){var l=(0,a.getPrefixCls)("select",c);return o.createElement(N.a,Object(k.a)({ref:t},Object(C.a)(e,["dataSource"]),{prefixCls:l,className:x()("".concat(l,"-auto-complete"),n),mode:N.a.SECRET_COMBOBOX_MODE_DO_NOT_USE,getInputElement:u}),s)}))},I=o.forwardRef(D);I.Option=K;var L=I;var T=function(e){var t=e.labelCol,a=e.data,c=e.updateData,l=Object(d.c)(),r=Object(n.a)(l,2),s=r[0],u=r[1],h=Object(o.useState)([]),m=Object(n.a)(h,2),v=m[0],y=m[1];return Object(b.jsx)(i.a,{component:!1,labelCol:t,children:Object(b.jsx)(i.a.Item,{className:"form-item-mt-16 form-item-mb-0",label:"\u54c1\u724c/\u5546\u6807",required:!0,children:Object(b.jsxs)("div",{className:"".concat(f.a["form-item-box"]," clearfix"),children:[Object(b.jsx)("div",{className:f.a["item-checkbox"],children:Object(b.jsx)(p.a,{className:"".concat(a.local_is_checking||"2"!==a.brand.status?"":"check_product_detail-reject-checkbox"),checked:a.brand.local_checked,onChange:function(e){c((function(t){t.content.brand.local_checked=e.target.checked}))},disabled:a.brand.local_disabled})}),Object(b.jsxs)("div",{className:f.a["item-body"],children:[Object(b.jsx)(L,{maxLength:20,value:a.brand.value,options:v,onChange:function(e){c((function(t){t.content.brand.value=e,t.content.brand.brandCode=""}))},onSearch:function(e){u(),s(window.$api.check_product_brand,{keyword:e}).then((function(e){var t=[];e.dataList.forEach((function(e){var a="".concat(e.cnName).concat(e.enName?"(".concat(e.enName,")"):"");t.push({label:a,value:a,brandcode:e.brandCode})})),y(t)}))},onSelect:function(e,t){c((function(e){e.content.brand.brandCode=t.brandcode}))}}),a.brand.brandCode?Object(b.jsxs)("div",{className:"mt-5 color-gray font-size-12",children:["\u5df2\u9009\u5b9a\u54c1\u724c\uff0c\u54c1\u724c\u7f16\u53f7\uff1a",a.brand.brandCode,"\u3002"]}):Object(b.jsx)("div",{className:"mt-5 color-red font-size-12",children:"\u624b\u5de5\u586b\u5199\u54c1\u724c\uff0c\u54c1\u724c\u7f16\u53f7\uff1a\u672a\u5f55\u5165\u3002"})]})]})})})},R=a(312);var V=function(e){var t=e.data,a=e.labelCol,c=e.updateData;function n(e){c((function(t){t.content.productName.value=e}))}return Object(b.jsx)(i.a,{component:!1,labelCol:a,children:Object(b.jsx)(i.a.Item,{className:"form-item-mt-10 form-item-mb-0",label:"\u5546\u54c1\u540d\u79f0",required:!0,children:Object(b.jsxs)("div",{className:"".concat(f.a["form-item-box"]," clearfix"),children:[Object(b.jsx)("div",{className:f.a["item-checkbox"],children:Object(b.jsx)(p.a,{className:"".concat(t.local_is_checking||"2"!==t.productName.status?"":"check_product_detail-reject-checkbox"),checked:t.productName.local_checked,onChange:function(e){c((function(t){t.content.productName.local_checked=e.target.checked}))},disabled:t.productName.local_disabled})}),Object(b.jsx)("div",{className:f.a["item-body"],children:Object(b.jsx)(R.a.TextArea,{value:t.productName.value,maxLength:100,autoSize:{minRows:1,maxRows:5},onChange:function(e){n(e.target.value)},onBlur:function(e){n(e.target.value.trim())}})})]})})})},M=a(91),A=a(491),H=a(352);var F=function(e){var t=e.labelCol,a=e.data,c=e.updateData,n=function(e){c((function(t){t.content.models.value=t.content.models.value.filter((function(t){return t.key!==e.target.dataset.key}))}))},o=function(e){c((function(t){var a,c=Object(M.a)(t.content.models.value);try{for(c.s();!(a=c.n()).done;){var n=a.value;if(n.key===e.target["data-key"]){n.local_checked=e.target.checked;break}}}catch(o){c.e(o)}finally{c.f()}}))};return Object(b.jsx)(i.a,{component:!1,labelCol:t,children:Object(b.jsx)(i.a.Item,{className:"form-item-mt-10 form-item-mb-0",label:"\u89c4\u683c\u578b\u53f7",required:!0,children:Object(b.jsxs)("div",{className:"".concat(f.a["form-item-box"]),style:{marginTop:-2},children:[Object(b.jsxs)(A.a,{dataSource:a.models.value,pagination:!1,size:"small",showHeader:!1,children:[Object(b.jsx)(A.a.Column,{className:"check_product_detail-specification-td",width:28,render:function(e){return Object(b.jsx)(p.a,{className:"".concat(a.local_is_checking||"2"!==e.subStatus?"":"check_product_detail-reject-checkbox"),checked:e.local_checked,onChange:o,"data-key":e.key,disabled:e.local_disabled})}}),Object(b.jsx)(A.a.Column,{className:"check_product_detail-specification-td",width:40,render:function(e,t,a){return 0===a?Object(b.jsx)(H.a,{color:"#ccc",style:{paddingLeft:3,paddingRight:3},children:"\u9996\u884c"}):"3"===t.subStatus?null:Object(b.jsx)("span",{className:"".concat(f.a["delete-specification-button"]," font-size-12"),"data-key":t.key,onClick:n,children:"\u5220\u9664"})}}),Object(b.jsx)(A.a.Column,{className:"check_product_detail-specification-checkbox-td check_product_detail-specification-spec-td",dataIndex:"modelName",render:function(e,t){return Object(b.jsx)(s.a,{value:e,maxLength:20,setValue:function(e){!function(e,t){c((function(a){var c,n=Object(M.a)(a.content.models.value);try{for(n.s();!(c=n.n()).done;){var o=c.value;if(o.key===t){o.modelName=e;break}}}catch(l){n.e(l)}finally{n.f()}}))}(e,t.key)},size:"small"})}})]}),Object(b.jsx)("div",{className:"mt-5 ".concat(a.models.value.length>=20?"hidden":""),children:Object(b.jsx)("span",{className:"".concat(f.a["add-specification-button"]," font-size-12"),onClick:function(){c((function(e){e.content.models.value.push({key:window.$utility.uuid(),modelName:"",subStatus:"0",local_checked:!1,local_disabled:!e.content.local_is_checking})}))},children:"\u6dfb\u52a0\u65b0\u884c"})})]})})})},z=a(494),W=window.$utility.formatterAmountForInputNumber,q=window.$utility.parserAmountForInputNumber;var B=function(e){var t=e.labelCol,a=e.data,c=e.updateData;return Object(b.jsx)(i.a,{component:!1,labelCol:t,children:Object(b.jsx)(i.a.Item,{className:"form-item-mt-16 form-item-mb-0",label:"\u5e74\u9500\u552e\u989d",children:Object(b.jsxs)("div",{className:"".concat(f.a["form-item-box"]," clearfix"),children:[Object(b.jsx)("div",{className:f.a["item-checkbox"],children:Object(b.jsx)(p.a,{className:"".concat(a.local_is_checking||"2"!==a.annualSalesVolume.status?"":"check_product_detail-reject-checkbox"),checked:a.annualSalesVolume.local_checked,onChange:function(e){c((function(t){t.content.annualSalesVolume.local_checked=e.target.checked}))},disabled:a.annualSalesVolume.local_disabled})}),Object(b.jsx)("div",{className:f.a["item-body"],children:Object(b.jsxs)("div",{className:"clearfix leading-32",children:[Object(b.jsx)("span",{className:"float-left",children:"\xa5"}),Object(b.jsx)("div",{style:{marginLeft:16},children:Object(b.jsx)(z.a,{min:0,max:999999.99,value:a.annualSalesVolume.value,formatter:W,parser:function(e){return q(e,a.annualSalesVolume.value)},onChange:function(e){c((function(t){t.content.annualSalesVolume.value=e}))},keyboard:!1,style:{width:"100%"}})})]})})]})})})};var U=function(e){var t=e.labelCol,a=e.data,c=e.updateData;return Object(b.jsx)(i.a,{component:!1,labelCol:t,children:Object(b.jsx)(i.a.Item,{className:"form-item-mt-10 form-item-mb-0",label:"\u5355\u4f4d",children:Object(b.jsxs)("div",{className:"".concat(f.a["form-item-box"]," clearfix"),children:[Object(b.jsx)("div",{className:f.a["item-checkbox"],children:Object(b.jsx)(p.a,{className:"".concat(a.local_is_checking||"2"!==a.unit.status?"":"check_product_detail-reject-checkbox"),checked:a.unit.local_checked,onChange:function(e){c((function(t){t.content.unit.local_checked=e.target.checked}))},disabled:a.unit.local_disabled})}),Object(b.jsx)("div",{className:f.a["item-body"],children:Object(b.jsx)(s.a,{maxLength:20,value:a.unit.value,setValue:function(e){c((function(t){t.content.unit.value=e}))}})})]})})})},$=window.$utility.formatterIntegerForInputNumber,G=window.$utility.parserIntegerForInputNumber;var J=function(e){var t=e.labelCol,a=e.data,c=e.updateData;return Object(b.jsx)(i.a,{component:!1,labelCol:t,children:Object(b.jsx)(i.a.Item,{className:"form-item-mt-10 form-item-mb-0",label:"\u5e38\u5907\u5e93\u5b58",children:Object(b.jsxs)("div",{className:"".concat(f.a["form-item-box"]," clearfix"),children:[Object(b.jsx)("div",{className:f.a["item-checkbox"],children:Object(b.jsx)(p.a,{className:"".concat(a.local_is_checking||"2"!==a.stock.status?"":"check_product_detail-reject-checkbox"),checked:a.stock.local_checked,onChange:function(e){c((function(t){t.content.stock.local_checked=e.target.checked}))},disabled:a.stock.local_disabled})}),Object(b.jsx)("div",{className:f.a["item-body"],children:Object(b.jsx)(z.a,{value:a.stock.value,formatter:$,parser:function(e){return G(e,a.stock.value)},onChange:function(e){c((function(t){t.content.stock.value=e}))},keyboard:!1,max:99999999,maxLength:8,style:{width:"100%"}})})]})})})};var X=function(e){var t=e.labelCol,a=e.data,c=e.updateData;function n(e){c((function(t){var a,c=Object(M.a)(t.content.features.value);try{for(c.s();!(a=c.n()).done;){var n=a.value;if(n.key===e.target["data-key"]){n.local_checked=e.target.checked;break}}}catch(o){c.e(o)}finally{c.f()}}))}function o(e){c((function(t){t.content.features.value=t.content.features.value.filter((function(t){return t.key!==e.target.dataset.key}))}))}return Object(b.jsx)(i.a,{component:!1,labelCol:t,children:Object(b.jsx)(i.a.Item,{className:"form-item-mt-10 form-item-mb-0",label:"\u5546\u54c1\u5c5e\u6027",children:Object(b.jsxs)("div",{className:"".concat(f.a["form-item-box"]),children:[a.features.value.length>0&&Object(b.jsxs)(A.a,{dataSource:a.features.value,pagination:!1,size:"small",children:[Object(b.jsx)(A.a.Column,{className:"check_product_detail-feature-td check_product_detail-feature-th",width:28,render:function(e){return Object(b.jsx)(p.a,{className:"".concat(a.local_is_checking||"2"!==e.subStatus?"":"check_product_detail-reject-checkbox"),checked:e.local_checked,"data-key":e.key,onChange:n,disabled:e.local_disabled})}}),Object(b.jsx)(A.a.Column,{className:"check_product_detail-feature-td check_product_detail-feature-th",title:"\u64cd\u4f5c",width:40,render:function(e,t){return"3"===t.subStatus?null:Object(b.jsx)("span",{className:"".concat(f.a["delete-feature-button"]," font-size-12"),"data-key":t.key,onClick:o,children:"\u5220\u9664"})}}),Object(b.jsx)(A.a.Column,{className:"check_product_detail-feature-td check_product_detail-feature-th",width:"30%",title:"\u5c5e\u6027\u540d",dataIndex:"name",render:function(e,t){return Object(b.jsx)(s.a,{value:e,maxLength:20,setValue:function(e){!function(e,t){c((function(a){var c,n=Object(M.a)(a.content.features.value);try{for(n.s();!(c=n.n()).done;){var o=c.value;if(o.key===t){o.name=e;break}}}catch(l){n.e(l)}finally{n.f()}}))}(e,t.key)},size:"small"})}}),Object(b.jsx)(A.a.Column,{className:"check_product_detail-feature-td2 check_product_detail-feature-th",title:"\u5c5e\u6027\u503c",dataIndex:"value",render:function(e,t){return Object(b.jsx)(s.a,{value:e,maxLength:20,setValue:function(e){!function(e,t){c((function(a){var c,n=Object(M.a)(a.content.features.value);try{for(n.s();!(c=n.n()).done;){var o=c.value;if(o.key===t){o.value=e;break}}}catch(l){n.e(l)}finally{n.f()}}))}(e,t.key)},size:"small"})}})]}),Object(b.jsx)("div",{className:"".concat(a.features.value.length>0?"mt-5":""," ").concat(a.features.value.length>=10?"hidden":""),children:Object(b.jsx)("span",{className:"".concat(f.a["add-feature-button"]," font-size-12"),onClick:function(){c((function(e){e.content.features.value.push({key:window.$utility.uuid(),name:"",subStatus:"0",value:"",local_checked:!1,local_disabled:!e.content.local_is_checking})}))},children:"\u6dfb\u52a0\u65b0\u884c"})})]})})})},Y=a(429);var Q=function(e){var t=e.labelCol,a=e.data,c=e.updateData,l=Object(d.c)(),r=Object(n.a)(l,1)[0],s=Object(o.useState)([]),u=Object(n.a)(s,2),h=u[0],m=u[1],v=Object(o.useMemo)((function(){var e=[],t=a.category.value;return t.firstCategoryCode&&e.push(t.firstCategoryCode),t.secondCategoryCode&&e.push(t.secondCategoryCode),t.thirdCategoryCode&&e.push(t.thirdCategoryCode),e.length>0?e.join("_"):void 0}),[a.category]),y=Object(o.useMemo)((function(){for(var e=[],t=["","",""],c=0;c<h.length;c+=1)if(a.category.value.firstCategoryCode&&a.category.value.firstCategoryCode===h[c].value){if(t[0]=h[c].title,a.category.value.secondCategoryCode&&h[c].children)for(var n=0;n<h[c].children.length;n+=1)if("".concat(a.category.value.firstCategoryCode,"_").concat(a.category.value.secondCategoryCode)===h[c].children[n].value){if(t[1]=h[c].children[n].title,a.category.value.thirdCategoryCode&&h[c].children[n].children)for(var o=0;o<h[c].children[n].children.length;o+=1)if("".concat(a.category.value.firstCategoryCode,"_").concat(a.category.value.secondCategoryCode,"_").concat(a.category.value.thirdCategoryCode)===h[c].children[n].children[o].value){t[2]=h[c].children[n].children[o].title;break}break}break}return e.push(t.filter((function(e){return""!==e}))),e}),[a.category,h]);return Object(d.b)((function(){r(window.$api.product_categories).then((function(e){var t=[],a=function e(t,a){var c=[],n={title:t.name,value:"",level:a};return t.firstCategoryCode&&c.push(t.firstCategoryCode),t.secondCategoryCode&&c.push(t.secondCategoryCode),t.thirdCategoryCode&&c.push(t.thirdCategoryCode),n.value=c.join("_"),t.subCategories&&t.subCategories.length>0&&(n.children=[],t.subCategories.forEach((function(t){n.children.push(e(t,a+1))}))),n};e.data.forEach((function(e){t.push(a(e,1))})),m(t)}))})),Object(b.jsx)(i.a,{component:!1,labelCol:t,children:Object(b.jsx)(i.a.Item,{className:"form-item-mt-10 form-item-mb-0",label:"\u5206\u7c7b",children:Object(b.jsxs)("div",{className:"".concat(f.a["form-item-box"]),children:[Object(b.jsx)("div",{className:f.a["item-checkbox"],children:Object(b.jsx)(p.a,{className:"".concat(a.local_is_checking||"2"!==a.category.status?"":"check_product_detail-reject-checkbox"),checked:a.category.local_checked,onChange:function(e){c((function(t){t.content.category.local_checked=e.target.checked}))},disabled:a.category.local_disabled})}),Object(b.jsxs)("div",{className:f.a["item-body"],children:[Object(b.jsx)(Y.a,{value:v,treeData:h,placeholder:"\u8bf7\u9009\u62e9",showSearch:!0,allowClear:!0,dropdownMatchSelectWidth:!1,treeNodeFilterProp:"title",onChange:function(e){if(e){var t=e.split("_");c((function(e){e.content.category.value.firstCategoryCode=t[0],e.content.category.value.secondCategoryCode=t[1]?t[1]:"",e.content.category.value.thirdCategoryCode=t[2]?t[2]:""}))}else c((function(e){e.content.category.value.firstCategoryCode="",e.content.category.value.secondCategoryCode="",e.content.category.value.thirdCategoryCode=""}))}}),y.length>0&&Object(b.jsx)(b.Fragment,{children:y.map((function(e,t){return Object(b.jsx)("div",{className:0===t?"mt-5":"",children:e.map((function(t,a){return Object(b.jsxs)("span",{className:a===e.length-1?"color-blue":"",children:[t,a!==e.length-1?">":""]},a)}))},t)}))})]})]})})})},Z=window.$utility.formatterAmountForInputNumber,ee=window.$utility.parserAmountForInputNumber;var te=function(e){var t=e.labelCol,a=e.data,c=e.updateData,n=function(e){c((function(t){var a,c=Object(M.a)(t.content.prices.value);try{for(c.s();!(a=c.n()).done;){var n=a.value;if(n.key===e.target["data-key"]){n.local_checked=e.target.checked;break}}}catch(o){c.e(o)}finally{c.f()}}))},o=function(e,t,a){c((function(c){var n,o=Object(M.a)(c.content.prices.value);try{for(o.s();!(n=o.n()).done;){var l=n.value;if(l.key===t){l[a]=e;break}}}catch(r){o.e(r)}finally{o.f()}}))},l=function(e){var t=e.target.dataset.key,n=a.prices.value.filter((function(e){return e.key===t}));1===n.length&&""!==n[0].minPrice&&""!==n[0].maxPrice&&n[0].minPrice>n[0].maxPrice&&c((function(e){var a,c=Object(M.a)(e.content.prices.value);try{for(c.s();!(a=c.n()).done;){var o=a.value;if(o.key===t){o.minPrice=n[0].maxPrice,o.maxPrice=n[0].minPrice;break}}}catch(l){c.e(l)}finally{c.f()}}))};return Object(b.jsx)(i.a,{component:!1,labelCol:t,children:Object(b.jsx)(i.a.Item,{className:"form-item-mt-16 form-item-mb-0",label:"\u4ef7\u683c",children:Object(b.jsx)("div",{className:"".concat(f.a["form-item-box"]),children:Object(b.jsxs)(A.a,{dataSource:a.prices.value,pagination:!1,size:"small",children:[Object(b.jsx)(A.a.Column,{className:"check_product_detail-td check_product_detail-feature-th",width:28,render:function(e){return Object(b.jsx)(p.a,{className:"".concat(a.local_is_checking||"2"!==e.subStatus?"":"check_product_detail-reject-checkbox"),checked:e.local_checked,"data-key":e.key,onChange:n,disabled:e.local_disabled})}}),Object(b.jsx)(A.a.Column,{className:"check_product_detail-td check_product_detail-feature-th",width:56,title:"\u7c7b\u578b",dataIndex:"itemName"}),Object(b.jsx)(A.a.Column,{className:"check_product_detail-td check_product_detail-feature-th",title:"\u4ef7\u683c",render:function(e){return Object(b.jsxs)("div",{className:"text-right",children:[Object(b.jsx)("span",{className:"mr-5",children:"\xa5"}),Object(b.jsx)(z.a,{min:0,max:999999.99,value:e.minPrice,keyboard:!1,placeholder:"\u8bf7\u8f93\u5165",style:{width:96},"data-key":e.key,onChange:function(t){o(t,e.key,"minPrice")},formatter:Z,parser:function(t){return ee(t,e.minPrice)},onBlur:l}),Object(b.jsx)("span",{style:{marginLeft:12,marginRight:12},children:"\u81f3"}),Object(b.jsx)("span",{className:"mr-5",children:"\xa5"}),Object(b.jsx)(z.a,{min:0,max:999999.99,value:e.maxPrice,keyboard:!1,placeholder:"\u8bf7\u8f93\u5165",style:{width:96},"data-key":e.key,onChange:function(t){o(t,e.key,"maxPrice")},formatter:Z,parser:function(t){return ee(t,e.maxPrice)},onBlur:l})]})}})]})})})})},ae=a(318),ce=a(363),ne=a(53);var oe=function(e){var t=e.data,a=Object(d.d)(),c=function(){var e=0;if(t.barcode.local_checked&&!1===t.barcode.local_disabled&&(e+=t.barcode.point),!1===t.pictures.local_disabled){var a,c=!0,n=Object(M.a)(t.pictures.value);try{for(n.s();!(a=n.n()).done;){if(!1===a.value.local_checked){c=!1;break}}}catch(o){n.e(o)}finally{n.f()}c&&(e+=t.pictures.point)}return t.brand.local_checked&&!1===t.brand.local_disabled&&(e+=t.brand.point),t.productName.local_checked&&!1===t.productName.local_disabled&&(e+=t.productName.point),t.models.value.forEach((function(a){a.local_checked&&!1===a.local_disabled&&(e+=t.models.point)})),t.prices.value.forEach((function(t){t.local_checked&&!1===t.local_disabled&&(e+=t.subPoint)})),t.annualSalesVolume.local_checked&&!1===t.annualSalesVolume.local_disabled&&(e+=t.annualSalesVolume.point),t.category.local_checked&&!1===t.category.local_disabled&&(e+=t.category.point),t.unit.local_checked&&!1===t.unit.local_disabled&&(e+=t.unit.point),t.stock.local_checked&&!1===t.stock.local_disabled&&(e+=t.stock.point),t.features.value.forEach((function(a){a.local_checked&&!1===a.local_disabled&&(e+=t.features.point)})),e}();return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsxs)(i.a.Item,{className:"form-item-mt-10 form-item-mb-0 check_product_detail-check-panel-item",label:"\u52fe\u9009\u901a\u8fc7\u5b57\u6bb5",children:["\u8bf7\u5728\u5de6\u4fa7\u52fe\u9009\u901a\u8fc7\u7684\u5b57\u6bb5\uff0c",Object(b.jsx)("span",{className:"underline cursor-pointer hover-color-primary",onClick:function(){a(window.$route.operation_rule_detail,{query:{ruleCode:"SH00000001"}})},children:"\u70b9\u51fb\u67e5\u770b\u5546\u54c1\u5ba1\u6838\u5956\u52b1\u89c4\u5219"})]}),Object(b.jsx)(i.a.Item,{className:"form-item-mt-10 form-item-mb-0 check_product_detail-check-panel-item",label:"\u5956\u52b1\u603b\u8ba1",children:c})]})},le=a(401);var re=function(e){var t=e.data,a=e.updateData;return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(i.a.Item,{className:"form-item-mt-10 form-item-mb-0 check_product_detail-check-panel-item",label:"\u641c\u7d22\u62d2\u7edd\u77ed\u53e5",children:Object(b.jsx)(le.a,{type:"PRODUCT",onSelect:function(e){var t=e.relatedcodes;a((function(a){var c=a.content;!1===c.barcode.local_disabled&&t.includes(c.barcode.code)&&(c.barcode.local_checked=!0),!1===c.pictures.local_disabled&&c.pictures.value.forEach((function(e){!1===e.local_disabled&&t.includes(e.subCode)&&(e.local_checked=!0)})),!1===c.brand.local_disabled&&t.includes(c.brand.code)&&(c.brand.local_checked=!0),!1===c.productName.local_disabled&&t.includes(c.productName.code)&&(c.productName.local_checked=!0),!1===c.annualSalesVolume.local_disabled&&t.includes(c.annualSalesVolume.code)&&(c.annualSalesVolume.local_checked=!0),!1===c.category.local_disabled&&t.includes(c.category.code)&&(c.category.local_checked=!0),!1===c.unit.local_disabled&&t.includes(c.unit.code)&&(c.unit.local_checked=!0),!1===c.stock.local_disabled&&t.includes(c.stock.code)&&(c.stock.local_checked=!0),t.includes(c.models.code)&&c.models.value.forEach((function(e){!1===e.local_disabled&&(e.local_checked=!0)})),t.includes(c.features.code)&&c.features.value.forEach((function(e){!1===e.local_disabled&&(e.local_checked=!0)})),c.prices.value.forEach((function(e){!1===e.local_disabled&&t.includes(e.subCode)&&(e.local_checked=!0)}));var n=c.realRefusalCause+e.label;c.realRefusalCause=n.slice(0,200)}))}})}),Object(b.jsx)(i.a.Item,{className:"form-item-mt-10 form-item-mb-0 check_product_detail-check-panel-item",label:"\u52fe\u9009\u62d2\u7edd\u5b57\u6bb5",children:"\u8bf7\u5728\u5de6\u4fa7\u52fe\u9009\u62d2\u7edd\u7684\u5b57\u6bb5\uff0c\u4ee5\u4fbf\u7528\u6237\u4fee\u6539"}),Object(b.jsx)(i.a.Item,{className:"form-item-mt-10 form-item-mb-0 check_product_detail-check-panel-item",label:"\u62d2\u7edd\u539f\u56e0",required:!0,children:Object(b.jsx)(R.a.TextArea,{value:t.realRefusalCause,maxLength:200,autoSize:{minRows:2,maxRows:6},placeholder:"\u8bf7\u8f93\u5165...",onChange:function(e){a((function(t){t.content.realRefusalCause=e.target.value}))},onBlur:function(e){a((function(t){t.content.realRefusalCause=e.target.value.trim()}))}})})]})};function de(e){return e.local_is_checking&&"2"===e.local_checked_status}var ie=function(e){var t=e.data,a=e.updateData,c=e.selectRequiredItemChecked,l=e.doFetchProductData,s=Object(o.useState)(!1),u=Object(n.a)(s,2),f=u[0],h=u[1],p=Object(o.useState)(!1),m=Object(n.a)(p,2),v=m[0],y=m[1],k=Object(d.f)(),j=Object(n.a)(k,1)[0],g=Object(o.useMemo)((function(){var e="";return"0"===t.auditStatus&&(e="\u672a\u63d0\u4ea4"),"1"===t.auditStatus&&(e="\u5ba1\u6838\u4e2d"),"2"===t.auditStatus&&(e="\u5ba1\u6838\u4e0d\u901a\u8fc7"),"3"===t.auditStatus&&(e="\u5ba1\u6838\u901a\u8fc7"),e}),[t.auditStatus]);return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(r.a,{children:"\u5ba1\u6838\u4fe1\u606f"}),Object(b.jsxs)(i.a,{component:!1,children:[Object(b.jsx)(i.a.Item,{className:"form-item-mt-10 form-item-mb-0 check_product_detail-check-panel-item",label:"\u6536\u5f55\u72b6\u6001",children:Object(b.jsxs)("div",{style:{marginTop:6},children:[t.local_is_included?"\u5df2\u6536\u5f55":"\u672a\u6536\u5f55",Object(b.jsx)("div",{className:"color-gray font-size-12",children:"\u9996\u6b21\u5ba1\u6838\u901a\u8fc7\u540e\uff0c\u5546\u54c1\u53d8\u4e3a\u5df2\u6536\u5f55\u72b6\u6001"})]})}),Object(b.jsx)(i.a.Item,{className:"form-item-mt-10 form-item-mb-0 check_product_detail-check-panel-item",label:"\u5ba1\u6838\u72b6\u6001",children:g}),t.refusalCause&&Object(b.jsx)(i.a.Item,{className:"form-item-mt-10 form-item-mb-0 check_product_detail-check-panel-item check_product_detail-check-panel-refusalCause",label:"\u4e0a\u6b21\u62d2\u7edd\u539f\u56e0",children:Object(b.jsx)("div",{style:{paddingTop:2},children:t.refusalCause})}),t.local_is_checking&&Object(b.jsx)(i.a.Item,{className:"form-item-mt-10 form-item-mb-0 check_product_detail-check-panel-item",label:"\u5ba1\u6838",children:Object(b.jsxs)(ce.a.Group,{value:t.local_checked_status,onChange:function(e){var t=e.target.value;a((function(e){var a=e.content;if("2"===t)return a.barcode.local_checked=!1,a.pictures.value.forEach((function(e){e.local_checked=!1})),a.brand.local_checked=!1,a.productName.local_checked=!1,a.models.value.forEach((function(e){e.local_checked=!1})),a.prices.value.forEach((function(e){e.local_checked=!1})),a.annualSalesVolume.local_checked=!1,a.category.local_checked=!1,a.unit.local_checked=!1,a.stock.local_checked=!1,a.features.value.forEach((function(e){e.local_checked=!1})),void(a.local_checked_status=t);"3"===t&&c(t)}))},children:[Object(b.jsx)(ce.a,{value:"3",children:"\u5ba1\u6838\u901a\u8fc7"}),Object(b.jsx)(ce.a,{value:"2",children:"\u5ba1\u6838\u4e0d\u901a\u8fc7"})]})}),t.local_is_checking&&"3"===t.local_checked_status&&Object(b.jsx)(oe,{data:t}),t.local_is_checking&&"2"===t.local_checked_status&&Object(b.jsx)(re,{data:t,updateData:a}),Object(b.jsx)(i.a.Item,{className:"form-item-mt-10 form-item-mb-0 check_product_detail-check-panel-item",label:" ",colon:!1,children:Object(b.jsxs)("div",{className:"border-top-gray",style:{paddingTop:16},children:[Object(b.jsx)(ne.a,{type:"primary",loading:v,onClick:function(){var e=function(e){var t={productCode:e.productCode,auditStatus:e.auditStatus};!1===e.local_is_checking?t.saveType="0":t.saveType=e.local_checked_status,t.barcode={value:e.barcode.value,status:e.barcode.status,code:e.barcode.code},t.pictures={status:e.pictures.status,code:e.pictures.code,value:e.pictures.value.map((function(e){return{subStatus:e.subStatus,subCode:e.subCode,picUrl:e.picUrl}}))},t.brand={status:e.brand.status,code:e.brand.code,value:e.brand.value,brandCode:e.brand.brandCode},t.productName={value:e.productName.value,status:e.productName.status,code:e.productName.code},t.models={code:e.models.code,value:e.models.value.map((function(e){return{subStatus:e.subStatus,modelName:e.modelName,id:e.id||""}}))},t.prices={code:e.prices.code,value:e.prices.value.map((function(e){return{subStatus:e.subStatus,subCode:e.subCode,minPrice:e.minPrice||"",maxPrice:e.maxPrice||""}}))},t.annualSalesVolume={value:e.annualSalesVolume.value,status:e.annualSalesVolume.status,code:e.annualSalesVolume.code},t.category={status:e.category.status,code:e.category.code,value:{firstCategoryCode:e.category.value.firstCategoryCode,secondCategoryCode:e.category.value.secondCategoryCode,thirdCategoryCode:e.category.value.thirdCategoryCode}},t.unit={status:e.unit.status,value:e.unit.value,code:e.unit.code},t.stock={value:e.stock.value,status:e.stock.status,code:e.stock.code},t.features={code:e.features.code,value:e.features.value.map((function(e){return{value:e.value,subStatus:e.subStatus,name:e.name,id:e.id||""}}))};var a=e.local_checked_status;if(e.local_is_checking){e.barcode.local_checked&&!1===e.barcode.local_disabled&&(t.barcode.status=a);var c=!0;e.pictures.value.forEach((function(e,n){e.local_checked&&!1===e.local_disabled&&(t.pictures.value[n].subStatus=a),!1===e.local_checked&&!1===e.local_disabled&&(c=!1)})),c&&!1===e.pictures.local_disabled&&(t.pictures.status=a),e.brand.local_checked&&!1===e.brand.local_disabled&&(t.brand.status=a),e.productName.local_checked&&!1===e.productName.local_disabled&&(t.productName.status=a),e.models.value.forEach((function(e,c){e.local_checked&&!1===e.local_disabled&&(t.models.value[c].subStatus=a)})),e.prices.value.forEach((function(e,c){e.local_checked&&!1===e.local_disabled&&(t.prices.value[c].subStatus=a)})),e.annualSalesVolume.local_checked&&!1===e.annualSalesVolume.local_disabled&&(t.annualSalesVolume.status=a),e.category.local_checked&&!1===e.category.local_disabled&&(t.category.status=a),e.unit.local_checked&&!1===e.unit.local_disabled&&(t.unit.status=a),e.stock.local_checked&&!1===e.stock.local_disabled&&(t.stock.status=a),e.features.value.forEach((function(e,c){e.local_checked&&!1===e.local_disabled&&(t.features.value[c].subStatus=a)}))}return de(e)&&(t.refusalCause=e.realRefusalCause),t}(t);!1!==function(e){var a=!0;if(de(t)&&(e.refusalCause||(a=!1,ae.a.error({title:"\u63d0\u4ea4\u5931\u8d25",okText:"\u5173\u95ed",content:"\u7f3a\u5931\u62d2\u7edd\u539f\u56e0\uff0c\u8bf7\u8865\u5145\u3002"}))),a&&de(t)){var c=!1;t.pictures.value.forEach((function(e){!1===e.local_disabled&&e.local_checked&&(c=!0)})),t.barcode.local_checked&&!1===t.barcode.local_disabled&&(c=!0),t.brand.local_checked&&!1===t.brand.local_disabled&&(c=!0),t.productName.local_checked&&!1===t.productName.local_disabled&&(c=!0),t.annualSalesVolume.local_checked&&!1===t.annualSalesVolume.local_disabled&&(c=!0),t.category.local_checked&&!1===t.category.local_disabled&&(c=!0),t.unit.local_checked&&!1===t.unit.local_disabled&&(c=!0),t.stock.local_checked&&!1===t.stock.local_disabled&&(c=!0),t.prices.value.forEach((function(e){!1===e.local_disabled&&e.local_checked&&(c=!0)})),t.models.value.forEach((function(e){!1===e.local_disabled&&e.local_checked&&(c=!0)})),t.features.value.forEach((function(e){!1===e.local_disabled&&e.local_checked&&(c=!0)})),!1===c&&(a=!1,ae.a.error({title:"\u63d0\u4ea4\u5931\u8d25",okText:"\u5173\u95ed",content:"\u81f3\u5c11\u52fe\u9009\u4e00\u9879\u62d2\u7edd\u7684\u5b57\u6bb5\u3002"}))}if(a&&function(e){return e.local_is_checking&&"3"===e.local_checked_status}(t))if(!1===t.local_is_included){var n=!0;!1===t.brand.local_checked&&(n=!1),!1===t.productName.local_checked&&(n=!1),t.pictures.value.forEach((function(e){!1===e.local_checked&&(n=!1)})),0!==t.models.value.length&&!1!==t.models.value[0].local_checked||(n=!1),!1===n&&(a=!1,ae.a.error({title:"\u63d0\u4ea4\u5931\u8d25",okText:"\u5173\u95ed",content:"\u5ba1\u6838\u901a\u8fc7\u4e2d\u5fc5\u586b\u5b57\u6bb5\u7684\u5168\u90e8\u56fe\u7247\u3001\u54c1\u724c\u3001\u5546\u54c1\u540d\u79f0\u3001\u89c4\u683c\u578b\u53f7\u9996\u9009\u5fc5\u987b\u52fe\u9009\u3002"}))}else{var o=!1;t.barcode.local_checked&&!1===t.barcode.local_disabled&&(o=!0),t.brand.local_checked&&!1===t.brand.local_disabled&&(o=!0),t.productName.local_checked&&!1===t.productName.local_disabled&&(o=!0),t.annualSalesVolume.local_checked&&!1===t.annualSalesVolume.local_disabled&&(o=!0),t.category.local_checked&&!1===t.category.local_disabled&&(o=!0),t.unit.local_checked&&!1===t.unit.local_disabled&&(o=!0),t.stock.local_checked&&!1===t.stock.local_disabled&&(o=!0);var l,r=Object(M.a)(t.features.value);try{for(r.s();!(l=r.n()).done;){var d=l.value;if(!1===d.local_disabled&&d.local_checked){o=!0;break}}}catch(p){r.e(p)}finally{r.f()}var i,s=Object(M.a)(t.prices.value);try{for(s.s();!(i=s.n()).done;){var u=i.value;if(!1===u.local_disabled&&u.local_checked){o=!0;break}}}catch(p){s.e(p)}finally{s.f()}var f,b=Object(M.a)(t.models.value);try{for(b.s();!(f=b.n()).done;){var h=f.value;if(!1===h.local_disabled&&h.local_checked){o=!0;break}}}catch(p){b.e(p)}finally{b.f()}!1===o&&(a=!1,ae.a.error({title:"\u63d0\u4ea4\u5931\u8d25",okText:"\u5173\u95ed",content:"\u81f3\u5c11\u52fe\u9009\u4e00\u9879\u672a\u5956\u52b1\u7684\u5b57\u6bb5\u3002"}))}return a}(e)&&(y(!0),j(window.$api.check_product,e).then((function(e){ae.a.success({title:t.local_is_checking?"\u63d0\u4ea4\u6210\u529f":"\u4fdd\u5b58\u6210\u529f",okText:"\u786e\u5b9a",content:e.msg,onOk:function(){l()}})})).catch((function(e){e&&6003===e.recode?ae.a.error({title:t.local_is_checking?"\u63d0\u4ea4\u5931\u8d25":"\u4fdd\u5b58\u5931\u8d25",okText:"\u5237\u65b0\u9875\u9762",content:window.$utility.generateRequestErrorMsg(e),onOk:function(){window.location.reload()}}):ae.a.error({title:t.local_is_checking?"\u63d0\u4ea4\u5931\u8d25":"\u4fdd\u5b58\u5931\u8d25",okText:"\u5173\u95ed",content:window.$utility.generateRequestErrorMsg(e)})})).then((function(){y(!1)})))},children:t.local_is_checking?"\u63d0\u4ea4":"\u4fdd\u5b58"}),Object(b.jsx)(ne.a,{className:"ml-10",loading:f,onClick:function(){h(!0),l().then((function(){h(!1)}))},children:"\u91cd\u7f6e"})]})})]})]})},se=(a(460),{span:5});t.default=function(){var e=Object(d.h)().query,t=Object(d.c)(),a=Object(n.a)(t,1)[0],i=Object(l.a)({content:null}),s=Object(n.a)(i,2),u=s[0],p=s[1],v=Object(o.useState)(!1),k=Object(n.a)(v,2),j=k[0],g=k[1],O=function(e){p((function(t){var a="3",c=t.content;c.pictures.status===a&&(c.pictures.local_disabled=!0),c.pictures.value.forEach((function(e){e.local_checked=!0,e.subStatus===a&&(e.local_disabled=!0)})),c.brand.status===a&&(c.brand.local_disabled=!0),c.brand.local_checked=!0,c.productName.status===a&&(c.productName.local_disabled=!0),c.productName.local_checked=!0,c.models.value.forEach((function(e){e.local_checked=!0,e.subStatus===a&&(e.local_disabled=!0)})),c.barcode.status===a?(c.barcode.local_checked=!0,c.barcode.local_disabled=!0):c.barcode.local_checked=!1,c.annualSalesVolume.status===a?(c.annualSalesVolume.local_checked=!0,c.annualSalesVolume.local_disabled=!0):c.annualSalesVolume.local_checked=!1,c.prices.value.forEach((function(e){e.subStatus===a?(e.local_checked=!0,e.local_disabled=!0):e.local_checked=!1})),c.category.status===a?(c.category.local_checked=!0,c.category.local_disabled=!0):c.category.local_checked=!1,c.unit.status===a?(c.unit.local_checked=!0,c.unit.local_disabled=!0):c.unit.local_checked=!1,c.stock.status===a?(c.stock.local_checked=!0,c.stock.local_disabled=!0):c.stock.local_checked=!1,c.features.value.forEach((function(e){e.subStatus===a?(e.local_checked=!0,e.local_disabled=!0):e.local_checked=!1})),c.realRefusalCause="",e&&(c.local_checked_status=e)}))},_=function(){return j&&g(!1),a("".concat(window.$api.check_product,"/").concat(e.productCode)).then((function(e){p((function(t){t.content={local_checked_status:"3",local_is_checking:"1"===e.auditStatus,local_is_included:"1"===e.collectionStatus,refusalCause:e.refusalCause,realRefusalCause:"",auditStatus:e.auditStatus,collectionStatus:e.collectionStatus,productCode:e.productCode,productName:Object(c.a)(Object(c.a)({},e.productName),{},{local_checked:!1,local_disabled:!1}),barcode:Object(c.a)(Object(c.a)({},e.barcode),{},{local_checked:!1,local_disabled:!1}),pictures:Object(c.a)(Object(c.a)({},e.pictures),{},{local_disabled:!1,value:e.pictures.value.map((function(e){return Object(c.a)(Object(c.a)({},e),{},{local_checked:!1,local_disabled:!1})}))}),brand:Object(c.a)(Object(c.a)({},e.brand),{},{local_checked:!1,local_disabled:!1}),models:Object(c.a)(Object(c.a)({},e.models),{},{value:e.models.value.map((function(e){return Object(c.a)(Object(c.a)({},e),{},{key:e.id,local_checked:!1,local_disabled:!1})}))}),annualSalesVolume:Object(c.a)(Object(c.a)({},e.annualSalesVolume),{},{local_checked:!1,local_disabled:!1}),unit:Object(c.a)(Object(c.a)({},e.unit),{},{local_checked:!1,local_disabled:!1}),stock:Object(c.a)(Object(c.a)({},e.stock),{},{local_checked:!1,local_disabled:!1}),features:Object(c.a)(Object(c.a)({},e.features),{},{value:e.features.value.map((function(e){return Object(c.a)(Object(c.a)({},e),{},{key:e.id,local_checked:!1,local_disabled:!1})}))}),category:Object(c.a)(Object(c.a)({},e.category),{},{local_checked:!1,local_disabled:!1}),prices:Object(c.a)(Object(c.a)({},e.prices),{},{value:e.prices.value.map((function(e){return Object(c.a)(Object(c.a)({},e),{},{key:e.subCode,minPrice:e.minPrice,maxPrice:e.maxPrice,local_checked:!1,local_disabled:!1})}))})}})),g(!0)})).catch((function(){}))};return Object(d.b)((function(){_()})),Object(o.useEffect)((function(){!0===j&&(!1!==u.content.local_is_checking?u.content.local_is_checking&&O():p((function(e){var t="3",a="2",c=e.content;c.barcode.local_disabled=!0,c.barcode.status!==t&&c.barcode.status!==a||(c.barcode.local_checked=!0),c.pictures.local_disabled=!0,c.pictures.value.forEach((function(e){e.local_disabled=!0,e.subStatus!==t&&e.subStatus!==a||(e.local_checked=!0)})),c.brand.local_disabled=!0,c.brand.status!==t&&c.brand.status!==a||(c.brand.local_checked=!0),c.productName.local_disabled=!0,c.productName.status!==t&&c.productName.status!==a||(c.productName.local_checked=!0),c.models.value.forEach((function(e){e.local_disabled=!0,e.subStatus!==t&&e.subStatus!==a||(e.local_checked=!0)})),c.prices.value.forEach((function(e){e.local_disabled=!0,e.subStatus!==t&&e.subStatus!==a||(e.local_checked=!0)})),c.annualSalesVolume.local_disabled=!0,c.annualSalesVolume.status!==t&&c.annualSalesVolume.status!==a||(c.annualSalesVolume.local_checked=!0),c.category.local_disabled=!0,c.category.status!==t&&c.category.status!==a||(c.category.local_checked=!0),c.unit.local_disabled=!0,c.unit.status!==t&&c.unit.status!==a||(c.unit.local_checked=!0),c.stock.local_disabled=!0,c.stock.status!==t&&c.stock.status!==a||(c.stock.local_checked=!0),c.features.value.forEach((function(e){e.local_disabled=!0,e.subStatus!==t&&e.subStatus!==a||(e.local_checked=!0)}))})))}),[j]),u.content?Object(b.jsxs)("div",{className:"h-full relative",children:[Object(b.jsxs)("div",{className:"".concat(f.a["base-info-box"]," ").concat("2"===u.content.local_checked_status?"check_product_detail-info-box":""," absolute scroll-y"),children:[Object(b.jsx)(r.a,{children:"\u57fa\u672c\u4fe1\u606f"}),Object(b.jsx)(h,{data:u.content,labelCol:se}),Object(b.jsx)(m,{data:u.content,labelCol:se,updateData:p}),Object(b.jsx)(y,{data:u.content,labelCol:se,updateData:p}),Object(b.jsx)(T,{data:u.content,labelCol:se,updateData:p}),Object(b.jsx)(V,{data:u.content,labelCol:se,updateData:p}),Object(b.jsx)(F,{data:u.content,labelCol:se,updateData:p}),Object(b.jsx)(te,{data:u.content,labelCol:se,updateData:p}),Object(b.jsx)(B,{data:u.content,labelCol:se,updateData:p}),Object(b.jsx)(r.a,{className:"mt-8",children:"\u6269\u5c55\u4fe1\u606f"}),Object(b.jsx)(Q,{data:u.content,labelCol:se,updateData:p}),Object(b.jsx)(U,{data:u.content,labelCol:se,updateData:p}),Object(b.jsx)(J,{data:u.content,labelCol:se,updateData:p}),Object(b.jsx)(X,{data:u.content,labelCol:se,updateData:p})]}),Object(b.jsx)("div",{className:f.a["action-box"],children:Object(b.jsx)(ie,{data:u.content,updateData:p,selectRequiredItemChecked:O,doFetchProductData:_})})]}):null}}}]);