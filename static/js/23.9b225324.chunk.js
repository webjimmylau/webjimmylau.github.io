(this["webpackJsonpbounty-admin-pc"]=this["webpackJsonpbounty-admin-pc"]||[]).push([[23],{323:function(e,t,n){"use strict";var a=n(30),c=n(315),i=n(78),o=n(22),s=n(4);function r(e){var t=e.children,n=e.promise,r=e.pendingDelay,l=e.hasBorder,u=e.hasPendingMask,d=Object(o.g)({promise:n,pendingDelay:r}),j=d.isPending,p=d.isDelayOver,b=d.data,m=d.error,f=d.isEmptyForData,h=d.promised,O=d.recentErrors,g={borderTop:l?"1px solid #f0f0f0":"none"};if(!1===h)return null;if(j){var x=!m&&!1===f&&!1===O;return Object(s.jsxs)("div",{style:Object(a.a)({position:"relative"},g),children:[p&&!x&&Object(s.jsx)("div",{style:{textAlign:"center",paddingTop:16},children:Object(s.jsx)(c.a,{})}),x&&t(b,j),x&&u&&Object(s.jsx)("div",{style:{position:"absolute",left:0,right:0,top:0,bottom:0,zIndex:2,backgroundColor:"#ffffff",opacity:.5}})]})}return Object(s.jsxs)("div",{style:g,children:[m&&Object(s.jsx)(i.a,{image:i.a.PRESENTED_IMAGE_SIMPLE,description:m.message||"\u83b7\u53d6\u670d\u52a1\u5668\u6570\u636e\u51fa\u9519"}),!m&&f&&Object(s.jsx)(i.a,{image:i.a.PRESENTED_IMAGE_SIMPLE,description:"\u6682\u65e0\u6570\u636e"}),!m&&!1===f&&t(b,j)]})}r.defaultProps={promise:null,pendingDelay:200,hasBorder:!0,hasPendingMask:!0},t.a=r},470:function(e,t,n){e.exports={box:"setting_account_list_box__1w9vn",search:"setting_account_list_search__E5pSm","search-item":"setting_account_list_search-item__Rpvol",pagination:"setting_account_list_pagination__2RfFG"}},487:function(e,t,n){"use strict";n.r(t);var a=n(128),c=n.n(a),i=n(30),o=n(143),s=n(23),r=n(317),l=n(491),u=n(474),d=n(64),j=n(53),p=n(323),b=n(63),m=n(0),f=n(22),h=n(470),O=n.n(h),g=n(4);t.default=function(){var e=Object(f.d)(),t=Object(b.a)({page:1,size:10,phone:"",name:""}),n=Object(s.a)(t,2),a=n[0],h=n[1],x=Object(b.a)({page:1,size:10,phone:"",name:""}),_=Object(s.a)(x,2),y=_[0],w=_[1],v=Object(b.a)(null),C=Object(s.a)(v,2),E=C[0],N=C[1],I=Object(b.a)({totalPage:0,total:0}),k=Object(s.a)(I,2),P=k[0],z=k[1],S=Object(f.c)(),D=Object(s.a)(S,1)[0],M=Object(m.useRef)(a);function T(e,t){h((function(n){n[e]=t}))}function R(){return(R=Object(o.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:h((function(e){e.page=1}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function A(e){h((function(t){t.page=e})),w((function(t){t.page=e}))}function B(e,t){h((function(e){e.size=t})),w((function(e){e.size=t}))}return Object(m.useEffect)((function(){M.current=a}),[a]),Object(m.useEffect)((function(){N(D(window.$api.setting_account_list,y).then((function(e){return z((function(t){t.totalPage=e.totalPage,t.total=e.total})),e.admins})).catch((function(){throw new Error})))}),[y]),Object(g.jsxs)("div",{className:O.a.box,children:[Object(g.jsxs)(r.a,{layout:"inline",className:O.a.search,children:[Object(g.jsx)(r.a.Item,{className:O.a["search-item"],label:"\u624b\u673a\u53f7\uff1a",children:Object(g.jsx)(d.a,{placeholder:"\u8bf7\u8f93\u5165",value:a.phone,setValue:function(e){T("phone",e)}})}),Object(g.jsx)(r.a.Item,{className:O.a["search-item"],label:"\u59d3\u540d\uff1a",children:Object(g.jsx)(d.a,{placeholder:"\u8bf7\u8f93\u5165",value:a.name,setValue:function(e){T("name",e)}})}),Object(g.jsxs)(r.a.Item,{className:O.a["search-item"],children:[Object(g.jsx)(j.a,{type:"primary",onClick:function(){!function(){R.apply(this,arguments)}(),setTimeout((function(){w(Object(i.a)({},M.current))}))},children:"\u67e5\u8be2"}),Object(g.jsx)(j.a,{className:"ml-10",onClick:function(){h((function(e){e.page=1,e.phone="",e.name=""})),setTimeout((function(){w(M.current)}))},children:"\u91cd\u7f6e"})]})]}),Object(g.jsx)(j.a,{type:"primary",style:{marginBottom:16},onClick:function(){e(window.$route.setting_account_create)},children:"+ \u65b0\u5efa"}),Object(g.jsx)(p.a,{promise:E,children:function(t){return Object(g.jsxs)("div",{children:[Object(g.jsxs)(l.a,{className:"-mt-px",rowKey:"adminCode",dataSource:t,pagination:!1,rowClassName:"table-row",size:"small",bordered:!0,children:[Object(g.jsx)(l.a.Column,{title:"\u8d26\u6237\u7f16\u53f7",dataIndex:"adminCode"}),Object(g.jsx)(l.a.Column,{title:"\u624b\u673a\u53f7",dataIndex:"phone"}),Object(g.jsx)(l.a.Column,{title:"\u59d3\u540d",dataIndex:"name"}),Object(g.jsx)(l.a.Column,{title:"\u804c\u8d23",render:function(e){return e.roleNames.join(", ")}}),Object(g.jsx)(l.a.Column,{title:"\u72b6\u6001",dataIndex:"statusName"}),Object(g.jsx)(l.a.Column,{title:"\u64cd\u4f5c",width:"15%",render:function(t){return"ADMIN"!==t.adminCode?Object(g.jsx)(j.a,{type:"link",style:{padding:0},onClick:function(){e(window.$route.setting_account_create,{query:{id:t.id}})},children:"\u7f16\u8f91"}):""}})]}),Object(g.jsx)("div",{className:O.a.pagination,children:Object(g.jsx)(u.a,{current:y.page,pageSize:y.size,total:P.total,onChange:A,onShowSizeChange:B,showSizeChanger:!0,showQuickJumper:!0,pageSizeOptions:[10,20,50,100],showTotal:function(){return"\u5171 ".concat(P.total," \u6761\u8bb0\u5f55 \u7b2c ").concat(y.page," / ").concat(P.totalPage," \u9875")}})})]})}})]})}}}]);