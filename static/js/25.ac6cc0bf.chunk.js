(this["webpackJsonpbounty-admin-pc"]=this["webpackJsonpbounty-admin-pc"]||[]).push([[25],{323:function(e,t,n){"use strict";var a=n(30),i=n(315),c=n(78),o=n(22),s=n(4);function r(e){var t=e.children,n=e.promise,r=e.pendingDelay,l=e.hasBorder,u=e.hasPendingMask,d=Object(o.g)({promise:n,pendingDelay:r}),j=d.isPending,b=d.isDelayOver,p=d.data,f=d.error,m=d.isEmptyForData,O=d.promised,g=d.recentErrors,h={borderTop:l?"1px solid #f0f0f0":"none"};if(!1===O)return null;if(j){var x=!f&&!1===m&&!1===g;return Object(s.jsxs)("div",{style:Object(a.a)({position:"relative"},h),children:[b&&!x&&Object(s.jsx)("div",{style:{textAlign:"center",paddingTop:16},children:Object(s.jsx)(i.a,{})}),x&&t(p,j),x&&u&&Object(s.jsx)("div",{style:{position:"absolute",left:0,right:0,top:0,bottom:0,zIndex:2,backgroundColor:"#ffffff",opacity:.5}})]})}return Object(s.jsxs)("div",{style:h,children:[f&&Object(s.jsx)(c.a,{image:c.a.PRESENTED_IMAGE_SIMPLE,description:f.message||"\u83b7\u53d6\u670d\u52a1\u5668\u6570\u636e\u51fa\u9519"}),!f&&m&&Object(s.jsx)(c.a,{image:c.a.PRESENTED_IMAGE_SIMPLE,description:"\u6682\u65e0\u6570\u636e"}),!f&&!1===m&&t(p,j)]})}r.defaultProps={promise:null,pendingDelay:200,hasBorder:!0,hasPendingMask:!0},t.a=r},472:function(e,t,n){e.exports={box:"setting_role_list_box__1s43J",search:"setting_role_list_search__3PC3f","search-item":"setting_role_list_search-item__3YBO2",pagination:"setting_role_list_pagination__tW16n"}},489:function(e,t,n){"use strict";n.r(t);var a=n(30),i=n(23),c=n(317),o=n(491),s=n(474),r=n(64),l=n(53),u=n(323),d=n(63),j=n(0),b=n(22),p=n(472),f=n.n(p),m=n(4);t.default=function(){var e=Object(b.d)(),t=Object(d.a)({page:1,size:10,roleName:""}),n=Object(i.a)(t,2),p=n[0],O=n[1],g=Object(d.a)({page:1,size:10,roleName:""}),h=Object(i.a)(g,2),x=h[0],_=h[1],y=Object(d.a)(null),w=Object(i.a)(y,2),N=w[0],C=w[1],v=Object(d.a)({totalPage:0,total:0}),E=Object(i.a)(v,2),P=E[0],k=E[1],z=Object(b.c)(),I=Object(i.a)(z,1)[0],S=Object(j.useRef)(p);function D(e){O((function(t){t.page=e})),_((function(t){t.page=e}))}function T(e,t){O((function(e){e.size=t})),_((function(e){e.size=t}))}return Object(j.useEffect)((function(){S.current=p}),[p]),Object(j.useEffect)((function(){C(I(window.$api.setting_role_list,x).then((function(e){return k((function(t){t.totalPage=e.totalPage,t.total=e.total})),e.roles})).catch((function(){throw new Error})))}),[x]),Object(m.jsxs)("div",{className:f.a.box,children:[Object(m.jsxs)(c.a,{layout:"inline",className:f.a.search,children:[Object(m.jsx)(c.a.Item,{className:f.a["search-item"],label:"\u804c\u8d23\u540d\u79f0\uff1a",children:Object(m.jsx)(r.a,{placeholder:"\u8bf7\u8f93\u5165",value:p.roleName,setValue:function(e){var t,n;t="roleName",n=e,O((function(e){e[t]=n}))}})}),Object(m.jsxs)(c.a.Item,{className:f.a["search-item"],children:[Object(m.jsx)(l.a,{type:"primary",onClick:function(){O((function(e){e.page=1})),setTimeout((function(){_(Object(a.a)({},S.current))}))},children:"\u67e5\u8be2"}),Object(m.jsx)(l.a,{className:"ml-10",onClick:function(){O((function(e){e.page=1,e.roleName=""})),setTimeout((function(){_(S.current)}))},children:"\u91cd\u7f6e"})]})]}),Object(m.jsx)(l.a,{type:"primary",style:{marginBottom:16},onClick:function(){e(window.$route.setting_role_create)},children:"+ \u65b0\u5efa"}),Object(m.jsx)(u.a,{promise:N,children:function(t){return Object(m.jsxs)("div",{children:[Object(m.jsxs)(o.a,{className:"-mt-px",rowKey:"roleCode",dataSource:t,pagination:!1,rowClassName:"table-row",size:"small",bordered:!0,children:[Object(m.jsx)(o.a.Column,{title:"\u804c\u8d23\u7f16\u53f7",dataIndex:"roleCode"}),Object(m.jsx)(o.a.Column,{title:"\u804c\u8d23\u540d\u79f0",dataIndex:"roleName"}),Object(m.jsx)(o.a.Column,{title:"\u5df2\u6388\u6743\u5e10\u53f7",dataIndex:"userNum"}),Object(m.jsx)(o.a.Column,{title:"\u72b6\u6001",dataIndex:"statusName"}),Object(m.jsx)(o.a.Column,{title:"\u64cd\u4f5c",width:"15%",render:function(t){return Object(m.jsx)(l.a,{type:"link",style:{padding:0},onClick:function(){e(window.$route.setting_role_create,{query:{id:t.id}})},children:"\u7f16\u8f91"})}})]}),Object(m.jsx)("div",{className:f.a.pagination,children:Object(m.jsx)(s.a,{current:x.page,pageSize:x.size,total:P.total,onChange:D,onShowSizeChange:T,showSizeChanger:!0,showQuickJumper:!0,pageSizeOptions:[10,20,50,100],showTotal:function(){return"\u5171 ".concat(P.total," \u6761\u8bb0\u5f55 \u7b2c ").concat(x.page," / ").concat(P.totalPage," \u9875")}})})]})}})]})}}}]);