(this["webpackJsonpbounty-admin-pc"]=this["webpackJsonpbounty-admin-pc"]||[]).push([[26],{323:function(e,t,a){"use strict";var n=a(30),c=a(315),s=a(78),o=a(22),i=a(4);function l(e){var t=e.children,a=e.promise,l=e.pendingDelay,r=e.hasBorder,u=e.hasPendingMask,m=Object(o.g)({promise:a,pendingDelay:l}),d=m.isPending,j=m.isDelayOver,h=m.data,b=m.error,x=m.isEmptyForData,p=m.promised,O=m.recentErrors,f={borderTop:r?"1px solid #f0f0f0":"none"};if(!1===p)return null;if(d){var g=!b&&!1===x&&!1===O;return Object(i.jsxs)("div",{style:Object(n.a)({position:"relative"},f),children:[j&&!g&&Object(i.jsx)("div",{style:{textAlign:"center",paddingTop:16},children:Object(i.jsx)(c.a,{})}),g&&t(h,d),g&&u&&Object(i.jsx)("div",{style:{position:"absolute",left:0,right:0,top:0,bottom:0,zIndex:2,backgroundColor:"#ffffff",opacity:.5}})]})}return Object(i.jsxs)("div",{style:f,children:[b&&Object(i.jsx)(s.a,{image:s.a.PRESENTED_IMAGE_SIMPLE,description:b.message||"\u83b7\u53d6\u670d\u52a1\u5668\u6570\u636e\u51fa\u9519"}),!b&&x&&Object(i.jsx)(s.a,{image:s.a.PRESENTED_IMAGE_SIMPLE,description:"\u6682\u65e0\u6570\u636e"}),!b&&!1===x&&t(h,d)]})}l.defaultProps={promise:null,pendingDelay:200,hasBorder:!0,hasPendingMask:!0},t.a=l},466:function(e,t,a){e.exports={box:"user_customer_list_box__1U7_w",search:"user_customer_list_search__2zITF","search-item":"user_customer_list_search-item__3ROGL",interval:"user_customer_list_interval__oFONt",pagination:"user_customer_list_pagination__2oLBL"}},481:function(e,t,a){"use strict";a.r(t);var n=a(128),c=a.n(n),s=a(30),o=a(143),i=a(23),l=a(317),r=a(494),u=a(404),m=a(491),d=a(474),j=a(64),h=a(53),b=a(323),x=a(63),p=a(0),O=a(22),f=a(466),g=a.n(f),v=a(4);t.default=function(){var e=Object(O.d)(),t=Object(x.a)(!1),a=Object(i.a)(t,2),n=a[0],f=a[1],_=Object(x.a)({page:1,size:10,customerName:"",linkman:"",phone:"",startBalanceAmount:"",endBalanceAmount:"",startExchangedAmount:"",endExchangedAmount:"",status:""}),A=Object(i.a)(_,2),E=A[0],N=A[1],y=Object(x.a)({page:1,size:10,customerName:"",linkman:"",phone:"",startBalanceAmount:"",endBalanceAmount:"",startExchangedAmount:"",endExchangedAmount:"",status:""}),C=Object(i.a)(y,2),w=C[0],I=C[1],k=Object(x.a)(null),B=Object(i.a)(k,2),z=B[0],P=B[1],S=Object(x.a)({totalPage:0,total:0}),T=Object(i.a)(S,2),D=T[0],M=T[1],L=Object(O.c)(),R=Object(i.a)(L,1)[0],F=Object(p.useRef)(E);function G(e,t){N((function(a){a[e]=t}))}function J(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return""===e||null===e||""===t||null===t?[e,t]:e>t?[t,e]:[e,t]}function V(){return(V=Object(o.a)(c.a.mark((function e(){var t,a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,J(E.startBalanceAmount,E.endBalanceAmount);case 2:return t=e.sent,e.next=5,J(E.startExchangedAmount,E.endExchangedAmount);case 5:a=e.sent,N((function(e){e.page=1,e.startBalanceAmount=t[0],e.endBalanceAmount=t[1],e.startExchangedAmount=a[0],e.endExchangedAmount=a[1]}));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function $(e){N((function(t){t.page=e})),I((function(t){t.page=e}))}function K(e,t){N((function(e){e.size=t})),I((function(e){e.size=t}))}return Object(p.useEffect)((function(){F.current=E}),[E]),Object(p.useEffect)((function(){P(R(window.$api.user_customer_list,w).then((function(e){return M((function(t){t.totalPage=e.totalPage,t.total=e.total})),e.customers})).catch((function(){throw new Error})))}),[w]),Object(v.jsxs)("div",{className:g.a.box,children:[Object(v.jsxs)(l.a,{layout:"inline",className:g.a.search,children:[Object(v.jsx)(l.a.Item,{className:g.a["search-item"],label:"\u5e97\u94fa\u540d\u79f0\uff1a",children:Object(v.jsx)(j.a,{placeholder:"\u8bf7\u8f93\u5165",value:E.customerName,setValue:function(e){G("customerName",e)}})}),Object(v.jsx)(l.a.Item,{className:g.a["search-item"],label:"\u8054\u7cfb\u4eba\uff1a",children:Object(v.jsx)(j.a,{placeholder:"\u8bf7\u8f93\u5165",value:E.linkman,setValue:function(e){G("linkman",e)}})}),Object(v.jsx)(l.a.Item,{className:g.a["search-item"],label:"\u624b\u673a\u53f7\uff1a",children:Object(v.jsx)(j.a,{placeholder:"\u8bf7\u8f93\u5165",value:E.phone,setValue:function(e){G("phone",e)}})}),Object(v.jsxs)("div",{style:{display:n?"flex":"none"},children:[Object(v.jsxs)(l.a.Item,{className:g.a["search-item"],label:"\u91d1\u5e01\u4f59\u989d\uff1a",children:[Object(v.jsx)(r.a,{placeholder:"\u6700\u5c0f\u503c",min:0,max:99999999,value:E.startBalanceAmount,onChange:function(e){G("startBalanceAmount",e)}}),Object(v.jsx)("span",{className:g.a.interval,children:"~"}),Object(v.jsx)(r.a,{placeholder:"\u6700\u5927\u503c",min:0,max:99999999,value:E.endBalanceAmount,onChange:function(e){G("endBalanceAmount",e)}})]}),Object(v.jsxs)(l.a.Item,{className:g.a["search-item"],label:"\u5df2\u5151\u6362\u7ea2\u5305\uff1a",children:[Object(v.jsx)(r.a,{placeholder:"\u6700\u5c0f\u503c",min:0,max:999999,value:E.startExchangedAmount,onChange:function(e){G("startExchangedAmount",e)}}),Object(v.jsx)("span",{className:g.a.interval,children:"~"}),Object(v.jsx)(r.a,{placeholder:"\u6700\u5927\u503c",min:0,max:999999,value:E.endExchangedAmount,onChange:function(e){G("endExchangedAmount",e)}})]}),Object(v.jsx)(l.a.Item,{className:g.a["search-item"],label:"\u72b6\u6001\uff1a",children:Object(v.jsx)(u.a,{style:{width:100},options:[{label:"\u8bf7\u9009\u62e9",value:""},{label:"\u542f\u7528",value:"1"},{label:"\u7981\u7528",value:"0"}],value:E.status,onSelect:function(e){G("status",e)}})})]}),Object(v.jsxs)(l.a.Item,{className:g.a["search-item"],children:[Object(v.jsx)(h.a,{type:"primary",onClick:function(){!function(){V.apply(this,arguments)}(),setTimeout((function(){I(Object(s.a)({},F.current))}))},children:"\u67e5\u8be2"}),Object(v.jsx)(h.a,{className:"ml-10",onClick:function(){N((function(e){e.page=1,e.customerName="",e.linkman="",e.phone="",e.startBalanceAmount="",e.endBalanceAmount="",e.startExchangedAmount="",e.endExchangedAmount="",e.status=""})),setTimeout((function(){I(F.current)}))},children:"\u91cd\u7f6e"}),Object(v.jsx)(h.a,{type:"link",className:"ml-10",style:{padding:0},onClick:function(){f(!n)},children:n?"\u6536\u8d77":"\u5c55\u5f00"})]})]}),Object(v.jsx)(b.a,{promise:z,children:function(t){return Object(v.jsxs)("div",{children:[Object(v.jsxs)(m.a,{className:"-mt-px",rowKey:"customerCode",dataSource:t,pagination:!1,rowClassName:"table-row",size:"small",bordered:!0,children:[Object(v.jsx)(m.a.Column,{title:"\u4f1a\u5458\u7f16\u53f7",dataIndex:"customerCode"}),Object(v.jsx)(m.a.Column,{title:"\u5e97\u94fa\u540d\u79f0",dataIndex:"customerName"}),Object(v.jsx)(m.a.Column,{title:"\u8054\u7cfb\u4eba",dataIndex:"linkman"}),Object(v.jsx)(m.a.Column,{title:"\u624b\u673a\u53f7",dataIndex:"phone"}),Object(v.jsx)(m.a.Column,{title:"\u91d1\u5e01\u4f59\u989d",dataIndex:"balanceAmount"}),Object(v.jsx)(m.a.Column,{title:"\u5df2\u5151\u5956\u7ea2\u5305",dataIndex:"exchangedAmount"}),Object(v.jsx)(m.a.Column,{title:"\u72b6\u6001",dataIndex:"statusName"}),Object(v.jsx)(m.a.Column,{title:"\u64cd\u4f5c",width:"15%",render:function(t){return Object(v.jsx)(h.a,{type:"link",style:{padding:0},onClick:function(){e(window.$route.user_customer_edit,{params:{code:t.customerCode}})},children:"\u7f16\u8f91"})}})]}),Object(v.jsx)("div",{className:g.a.pagination,children:Object(v.jsx)(d.a,{current:w.page,pageSize:w.size,total:D.total,onChange:$,onShowSizeChange:K,showSizeChanger:!0,showQuickJumper:!0,pageSizeOptions:[10,20,50,100],showTotal:function(){return"\u5171 ".concat(D.total," \u6761\u8bb0\u5f55 \u7b2c ").concat(w.page," / ").concat(D.totalPage," \u9875")}})})]})}})]})}}}]);