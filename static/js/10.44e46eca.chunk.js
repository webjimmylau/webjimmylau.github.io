(this["webpackJsonpbounty-admin-pc"]=this["webpackJsonpbounty-admin-pc"]||[]).push([[10],{332:function(e,a,c){"use strict";var l=c(339),t=c.n(l),d=c(4);a.a=function(e){var a=e.children,c=e.className;return Object(d.jsx)("div",{className:"".concat(t.a.header," ").concat(c||""),children:a})}},339:function(e,a,c){e.exports={header:"style_header__Q4NWp"}},349:function(e,a,c){e.exports={"base-info-box":"style_base-info-box__3W7K2","form-item-box":"style_form-item-box__1Srto","item-checkbox":"style_item-checkbox__3kwiT","item-body":"style_item-body__vQUdN","image-box":"style_image-box__gTUaG","image-box-checkbox":"style_image-box-checkbox__3OUH2","image-box-label":"style_image-box-label__28FsB","action-box":"style_action-box__3QXRI"}},401:function(e,a,c){"use strict";var l=c(23),t=c(0),d=c(404),o=c(22),r=c(4);a.a=function(e){var a=e.type,c=e.onSelect,n=Object(o.c)(),s=Object(l.a)(n,2),i=s[0],u=s[1],b=Object(t.useState)([]),h=Object(l.a)(b,2),m=h[0],_=h[1];return Object(r.jsx)(d.a,{showSearch:!0,placeholder:"\u8bf7\u641c\u7d22.....",options:m,defaultActiveFirstOption:!1,value:"",showArrow:!1,filterOption:!1,onSearch:function(e){u(),i(window.$api.check_reject_list,{rejectPhraseType:a,rejectPhraseName:e,page:1,size:10}).then((function(e){var a=[];e.rejectPhrase.forEach((function(e){a.push({label:e.phraseName,value:e.id,relatedcodes:e.relatedCodes||[]})})),_(a)}))},onSelect:function(e,a){c(a)}})}},463:function(e,a,c){},495:function(e,a,c){"use strict";c.r(a);var l=c(30),t=c(23),d=c(0),o=c(63),r=c(22),n=c(332),s=c(317),i=c(64),u=c(349),b=c.n(u),h=c(4);var m=function(e){var a=e.labelCol,c=e.data;return Object(h.jsx)(s.a,{component:!1,labelCol:a,children:Object(h.jsx)(s.a.Item,{className:"form-item-mt-16 form-item-mb-0",label:"\u54c1\u724c\u8bb0\u5f55\u7f16",children:Object(h.jsx)("div",{className:"".concat(b.a["form-item-box"]),children:Object(h.jsx)("div",{className:" ".concat(b.a["item-body"]),children:Object(h.jsx)(i.a,{value:c.brandCode,setValue:function(){},disabled:!0})})})})})},_=c(406),f=c(97);var p=function(e){var a=e.data,c=e.labelCol,l=e.updateData,t=function(){for(var e=!0,c=a.brandPic.value,l=0;l<c.length;l+=1)if(!1===c[l].local_checked){e=!1;break}return e}();function d(e){l((function(a){a.content.brandPic.value[e.target["data-index"]].local_checked=e.target.checked}))}return Object(h.jsx)(s.a,{component:!1,labelCol:c,children:Object(h.jsx)(s.a.Item,{className:"form-item-mt-10 form-item-mb-0",label:"\u56fe\u7247",required:!0,children:Object(h.jsxs)("div",{style:{width:360},children:[Object(h.jsxs)("div",{className:"clearfix",children:[Object(h.jsx)("div",{className:b.a["item-checkbox"],children:Object(h.jsx)(_.a,{className:"".concat(a.local_is_checking||"2"!==a.brandPic.status?"":"check_brand_detail-reject-checkbox"),checked:t,onChange:function(e){l((function(a){a.content.brandPic.value.forEach((function(a){a.local_checked=e.target.checked}))}))},disabled:a.brandPic.local_disabled})}),Object(h.jsx)("div",{className:"".concat(b.a["item-body"]," leading-32"),children:"\u5168\u9009\u56fe\u7247\uff08\u5546\u6807\u56fe\u7247\u3001\u4ea7\u54c1\u56fe\u7247\uff09"})]}),Object(h.jsx)("div",{className:"clearfix",children:a.brandPic.value.map((function(e,c){return Object(h.jsxs)("div",{className:"".concat(b.a["image-box"]," float-left relative check_brand_detail-image-wrap"),children:[Object(h.jsx)(f.a,{width:82,height:"",src:e.picUrl,preview:!0}),Object(h.jsx)(_.a,{className:"".concat(b.a["image-box-checkbox"]," ").concat(a.local_is_checking||"2"!==e.subStatus?"":"check_brand_detail-reject-checkbox"),checked:e.local_checked,onChange:d,"data-index":c,disabled:e.local_disabled}),Object(h.jsx)("span",{className:b.a["image-box-label"],children:e.itemName})]},c)}))})]})})})};var j=function(e){var a=e.labelCol,c=e.data,l=e.updateData,t=e.options;return Object(h.jsx)(s.a,{component:!1,labelCol:a,children:Object(h.jsx)(s.a.Item,{className:"form-item-mt-10 form-item-mb-0",label:t.label,required:t.required||!1,children:Object(h.jsxs)("div",{className:"".concat(b.a["form-item-box"]," clearfix"),children:[Object(h.jsx)("div",{className:b.a["item-checkbox"],children:Object(h.jsx)(_.a,{className:"".concat(c.local_is_checking||"2"!==c[t.field].status?"":"check_brand_detail-reject-checkbox"),checked:c[t.field].local_checked,onChange:function(e){l((function(a){a.content[t.field].local_checked=e.target.checked}))},disabled:c[t.field].local_disabled})}),Object(h.jsx)("div",{className:b.a["item-body"],children:Object(h.jsx)(i.a,{maxLength:t.maxLength||20,value:c[t.field].value,setValue:function(e){l((function(a){a.content[t.field].value=e}))}})})]})})})},v=c(91),k=c(405),N=c(496),O=c(312);var C=function(e){var a=e.labelCol,c=e.options,o=e.data,n=e.updateData,i=Object(r.c)(),u=Object(t.a)(i,1)[0],m=Object(r.c)(),f=Object(t.a)(m,1)[0],p=Object(d.useState)({data:[],hasLoaded:!1}),j=Object(t.a)(p,2),C=j[0],g=j[1],x=Object(d.useMemo)((function(){var e=[];return o[c.field].value.provinceCode&&e.push(o[c.field].value.provinceCode),o[c.field].value.cityCode&&e.push(o[c.field].value.cityCode),o[c.field].value.districtCode&&e.push(o[c.field].value.districtCode),o[c.field].value.townCode&&e.push(o[c.field].value.townCode),e}),[o,c.field]);return Object(r.b)((function(){var e=function(e,a,c){return f("".concat(window.$api.areas,"/").concat(a)).then((function(a){var l=[];a.data.forEach((function(e){l.push({value:e.code,label:e.name,isLeaf:c.isLeaf,level:c.level})})),e.children=l}))};u(window.$api.areas).then((function(e){var a=[];return e.data.forEach((function(e){a.push({value:e.code,label:e.name,isLeaf:!1,level:1})})),a})).then((function(a){if(o[c.field].value.provinceCode&&o[c.field].value.cityCode){var t,d=null,r=Object(v.a)(a);try{for(r.s();!(t=r.n()).done;){var n=t.value;if(n.value===o[c.field].value.provinceCode){d=n;break}}}catch(s){r.e(s)}finally{r.f()}d?e(d,d.value,{isLeaf:!1,level:2}).then((function(){if(o[c.field].value.districtCode){var t,r=null,n=Object(v.a)(d.children);try{for(n.s();!(t=n.n()).done;){var i=t.value;if(i.value===o[c.field].value.cityCode){r=i;break}}}catch(s){n.e(s)}finally{n.f()}r?e(r,r.value,{isLeaf:!1,level:3}).then((function(){if(o[c.field].value.townCode){var t,d=null,n=Object(v.a)(r.children);try{for(n.s();!(t=n.n()).done;){var i=t.value;if(i.value===o[c.field].value.districtCode){d=i;break}}}catch(s){n.e(s)}finally{n.f()}d?e(d,d.value,{isLeaf:!0,level:4}).then((function(){g(Object(l.a)(Object(l.a)({},C),{},{data:a}))})).catch((function(){g(Object(l.a)(Object(l.a)({},C),{},{data:a}))})):g(Object(l.a)(Object(l.a)({},C),{},{data:a}))}else g(Object(l.a)(Object(l.a)({},C),{},{data:a}))})).catch((function(){g(Object(l.a)(Object(l.a)({},C),{},{data:a}))})):g(Object(l.a)(Object(l.a)({},C),{},{data:a}))}})).catch((function(){g(Object(l.a)(Object(l.a)({},C),{},{data:a}))})):g(Object(l.a)(Object(l.a)({},C),{},{data:a}))}else g(Object(l.a)(Object(l.a)({},C),{},{data:a}))})).catch((function(){}))})),Object(h.jsx)(s.a,{component:!1,labelCol:a,children:Object(h.jsx)(s.a.Item,{className:"form-item-mt-10 form-item-mb-0",label:c.label,required:c.required||!1,children:Object(h.jsxs)("div",{className:"".concat(b.a["form-item-box"]," clearfix"),children:[Object(h.jsx)("div",{className:b.a["item-checkbox"],children:Object(h.jsx)(_.a,{className:"".concat(o.local_is_checking||"2"!==o[c.field].status?"":"check_brand_detail-reject-checkbox"),checked:o[c.field].local_checked,onChange:function(e){n((function(a){a.content[c.field].local_checked=e.target.checked}))},disabled:o[c.field].local_disabled})}),Object(h.jsxs)("div",{className:b.a["item-body"],children:[Object(h.jsx)(N.a,{value:x,options:C.data,loadData:function(e){if(!C.hasLoaded){var a=e[e.length-1];a.loading=!0,C.hasLoaded=!0,f("".concat(window.$api.areas,"/").concat(a.value)).then((function(e){var c=[];e.data.forEach((function(e){c.push({value:e.code,label:e.name,isLeaf:3===a.level,level:a.level+1})})),a.children=c})).catch((function(){})).then((function(){a.loading=!1,g({hasLoaded:!1,data:Object(k.a)(C.data)})}))}},onChange:function(e,a){n((function(l){0===e.length?(l.content[c.field].value.provinceCode="",l.content[c.field].value.cityCode="",l.content[c.field].value.districtCode="",l.content[c.field].value.townCode="",l.content[c.field].value.provinceName="",l.content[c.field].value.cityName="",l.content[c.field].value.districtName="",l.content[c.field].value.townName=""):(l.content[c.field].value.provinceCode=e[0],l.content[c.field].value.cityCode=e[1],l.content[c.field].value.districtCode=e[2],l.content[c.field].value.townCode=e[3],l.content[c.field].value.provinceName=a[0].label,l.content[c.field].value.cityName=a[1].label,l.content[c.field].value.districtName=a[2].label,l.content[c.field].value.townName=a[3].label)}))}}),Object(h.jsx)(O.a.TextArea,{style:{marginTop:3},value:o[c.field].value.address,maxLength:100,autoSize:{minRows:2,maxRows:5},onChange:function(e){n((function(a){a.content[c.field].value.address=e.target.value}))},onBlur:function(e){n((function(a){a.content[c.field].value.address=e.target.value.trim()}))},placeholder:"\u8bf7\u8f93\u5165....."})]})]})})})},g=c(429);var x=function(e){var a=e.labelCol,c=e.data,l=e.updateData,o=Object(r.c)(),n=Object(t.a)(o,1)[0],i=Object(d.useState)([]),u=Object(t.a)(i,2),m=u[0],f=u[1],p=Object(d.useMemo)((function(){var e=[];return c.categories.value.forEach((function(a){var c=[];a.firstCategoryCode&&c.push(a.firstCategoryCode),a.secondCategoryCode&&c.push(a.secondCategoryCode),a.thirdCategoryCode&&c.push(a.thirdCategoryCode),e.push(c.join("_"))})),e}),[c.categories]),j=Object(d.useMemo)((function(){var e=[];return c.categories.value.forEach((function(a){for(var c=["","",""],l=0;l<m.length;l+=1)if(a.firstCategoryCode&&a.firstCategoryCode===m[l].value){if(c[0]=m[l].title,a.secondCategoryCode&&m[l].children)for(var t=0;t<m[l].children.length;t+=1)if("".concat(a.firstCategoryCode,"_").concat(a.secondCategoryCode)===m[l].children[t].value){if(c[1]=m[l].children[t].title,a.thirdCategoryCode&&m[l].children[t].children)for(var d=0;d<m[l].children[t].children.length;d+=1)if("".concat(a.firstCategoryCode,"_").concat(a.secondCategoryCode,"_").concat(a.thirdCategoryCode)===m[l].children[t].children[d].value){c[2]=m[l].children[t].children[d].title;break}break}break}e.push(c.filter((function(e){return""!==e})))})),e}),[c.categories,m]);return Object(r.b)((function(){n(window.$api.product_categories).then((function(e){var a=[],c=function e(a,c){var l=[],t={title:a.name,value:"",level:c};return a.firstCategoryCode&&l.push(a.firstCategoryCode),a.secondCategoryCode&&l.push(a.secondCategoryCode),a.thirdCategoryCode&&l.push(a.thirdCategoryCode),t.value=l.join("_"),a.subCategories&&a.subCategories.length>0&&(t.children=[],a.subCategories.forEach((function(a){t.children.push(e(a,c+1))}))),t};e.data.forEach((function(e){a.push(c(e,1))})),f(a)}))})),Object(h.jsx)(s.a,{component:!1,labelCol:a,children:Object(h.jsx)(s.a.Item,{className:"form-item-mt-10 form-item-mb-0",label:"\u6240\u5c5e\u5206\u7c7b",required:!0,children:Object(h.jsxs)("div",{className:"".concat(b.a["form-item-box"]),children:[Object(h.jsx)("div",{className:b.a["item-checkbox"],children:Object(h.jsx)(_.a,{className:"".concat(c.local_is_checking||"2"!==c.categories.status?"":"check_brand_detail-reject-checkbox"),checked:c.categories.local_checked,onChange:function(e){l((function(a){a.content.categories.local_checked=e.target.checked}))},disabled:c.categories.local_disabled})}),Object(h.jsxs)("div",{className:b.a["item-body"],children:[Object(h.jsx)(g.a,{value:p,treeData:m,placeholder:"\u8bf7\u9009\u62e9",showSearch:!0,allowClear:!1,multiple:!0,dropdownMatchSelectWidth:!1,treeNodeFilterProp:"title",onChange:function(e){if(0!==e.length){if(!(e.length>5)){var a=[];e.forEach((function(e){var c={},l=e.split("_");l[0]&&(c.firstCategoryCode=l[0]),l[1]&&(c.secondCategoryCode=l[1]),l[2]&&(c.thirdCategoryCode=l[2]),a.push(c)})),l((function(e){e.content.categories.value=a}))}}else l((function(e){e.content.categories.value=[]}))}}),j.length>0&&Object(h.jsx)(h.Fragment,{children:j.map((function(e,a){return Object(h.jsx)("div",{className:0===a?"mt-5":"",children:e.map((function(a,c){return Object(h.jsxs)("span",{className:c===e.length-1?"color-blue":"",children:[a,c!==e.length-1?">":""]},c)}))},a)}))})]})]})})})},y=c(318),T=c(363),A=c(53);var w=function(e){var a=e.data,c=Object(r.d)(),l=function(){var e=0;if(!1===a.brandPic.local_disabled){var c,l=!0,t=Object(v.a)(a.brandPic.value);try{for(t.s();!(c=t.n()).done;){if(!1===c.value.local_checked){l=!1;break}}}catch(d){t.e(d)}finally{t.f()}l&&(e+=a.brandPic.point)}return a.cnName.local_checked&&!1===a.cnName.local_disabled&&(e+=a.cnName.point),a.enName.local_checked&&!1===a.enName.local_disabled&&(e+=a.enName.point),a.categories.local_checked&&!1===a.categories.local_disabled&&(e+=a.categories.point),a.producerName.local_checked&&!1===a.producerName.local_disabled&&(e+=a.producerName.point),a.producerTelephone.local_checked&&!1===a.producerTelephone.local_disabled&&(e+=a.producerTelephone.point),a.producerAddress.local_checked&&!1===a.producerAddress.local_disabled&&(e+=a.producerAddress.point),a.dealerName.local_checked&&!1===a.dealerName.local_disabled&&(e+=a.dealerName.point),a.dealerTelephone.local_checked&&!1===a.dealerTelephone.local_disabled&&(e+=a.dealerTelephone.point),a.dealerAddress.local_checked&&!1===a.dealerAddress.local_disabled&&(e+=a.dealerAddress.point),e}();return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsxs)(s.a.Item,{className:"form-item-mt-10 form-item-mb-0 check_brand_detail-check-panel-item",label:"\u52fe\u9009\u901a\u8fc7\u5b57\u6bb5",children:["\u8bf7\u5728\u5de6\u4fa7\u52fe\u9009\u901a\u8fc7\u7684\u5b57\u6bb5\uff0c",Object(h.jsx)("span",{className:"underline cursor-pointer hover-color-primary",onClick:function(){c(window.$route.operation_rule_detail,{query:{ruleCode:"SH00000002"}})},children:"\u70b9\u51fb\u67e5\u770b\u54c1\u724c\u5ba1\u6838\u5956\u52b1\u89c4\u5219"})]}),Object(h.jsx)(s.a.Item,{className:"form-item-mt-10 form-item-mb-0 check_brand_detail-check-panel-item",label:"\u5956\u52b1\u603b\u8ba1",children:l})]})},S=c(401);var P=function(e){var a=e.data,c=e.updateData;return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(s.a.Item,{className:"form-item-mt-10 form-item-mb-0 check_brand_detail-check-panel-item",label:"\u641c\u7d22\u62d2\u7edd\u77ed\u53e5",children:Object(h.jsx)(S.a,{type:"BRAND",onSelect:function(e){var a=e.relatedcodes;c((function(c){var l=c.content;!1===l.brandPic.local_disabled&&l.brandPic.value.forEach((function(e){!1===e.local_disabled&&a.includes(e.subCode)&&(e.local_checked=!0)})),!1===l.cnName.local_disabled&&a.includes(l.cnName.code)&&(l.cnName.local_checked=!0),!1===l.enName.local_disabled&&a.includes(l.enName.code)&&(l.enName.local_checked=!0),!1===l.categories.local_disabled&&a.includes(l.categories.code)&&(l.categories.local_checked=!0),!1===l.producerName.local_disabled&&a.includes(l.producerName.code)&&(l.producerName.local_checked=!0),!1===l.producerTelephone.local_disabled&&a.includes(l.producerTelephone.code)&&(l.producerTelephone.local_checked=!0),!1===l.producerAddress.local_disabled&&a.includes(l.producerAddress.code)&&(l.producerAddress.local_checked=!0),!1===l.dealerName.local_disabled&&a.includes(l.dealerName.code)&&(l.dealerName.local_checked=!0),!1===l.dealerTelephone.local_disabled&&a.includes(l.dealerTelephone.code)&&(l.dealerTelephone.local_checked=!0),!1===l.dealerAddress.local_disabled&&a.includes(l.dealerAddress.code)&&(l.dealerAddress.local_checked=!0);var t=l.realRefusalCause+e.label;l.realRefusalCause=t.slice(0,200)}))}})}),Object(h.jsx)(s.a.Item,{className:"form-item-mt-10 form-item-mb-0 check_brand_detail-check-panel-item",label:"\u52fe\u9009\u62d2\u7edd\u5b57\u6bb5",children:"\u8bf7\u5728\u5de6\u4fa7\u52fe\u9009\u62d2\u7edd\u7684\u5b57\u6bb5\uff0c\u4ee5\u4fbf\u7528\u6237\u4fee\u6539"}),Object(h.jsx)(s.a.Item,{className:"form-item-mt-10 form-item-mb-0 check_brand_detail-check-panel-item",label:"\u62d2\u7edd\u539f\u56e0",required:!0,children:Object(h.jsx)(O.a.TextArea,{value:a.realRefusalCause,maxLength:200,autoSize:{minRows:2,maxRows:6},placeholder:"\u8bf7\u8f93\u5165...",onChange:function(e){c((function(a){a.content.realRefusalCause=e.target.value}))},onBlur:function(e){c((function(a){a.content.realRefusalCause=e.target.value.trim()}))}})})]})};function D(e){return e.local_is_checking&&"2"===e.local_checked_status}var E=function(e){var a=e.data,c=e.updateData,l=e.doFetchBrandData,o=e.selectItemChecked,i=Object(r.f)(),u=Object(t.a)(i,1)[0],b=Object(d.useState)(!1),m=Object(t.a)(b,2),_=m[0],f=m[1],p=Object(d.useState)(!1),j=Object(t.a)(p,2),v=j[0],k=j[1],N=Object(d.useMemo)((function(){var e="";return"0"===a.auditStatus&&(e="\u672a\u63d0\u4ea4"),"1"===a.auditStatus&&(e="\u5ba1\u6838\u4e2d"),"2"===a.auditStatus&&(e="\u5ba1\u6838\u4e0d\u901a\u8fc7"),"3"===a.auditStatus&&(e="\u5ba1\u6838\u901a\u8fc7"),e}),[a.auditStatus]);return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(n.a,{children:"\u5ba1\u6838\u4fe1\u606f"}),Object(h.jsxs)(s.a,{component:!1,children:[Object(h.jsx)(s.a.Item,{className:"form-item-mt-10 form-item-mb-0 check_brand_detail-check-panel-item",label:"\u6536\u5f55\u72b6\u6001",children:Object(h.jsxs)("div",{style:{marginTop:6},children:[a.local_is_included?"\u5df2\u6536\u5f55":"\u672a\u6536\u5f55",Object(h.jsx)("div",{className:"color-gray font-size-12",children:"\u9996\u6b21\u5ba1\u6838\u901a\u8fc7\u540e\uff0c\u54c1\u724c\u53d8\u4e3a\u5df2\u6536\u5f55\u72b6\u6001"})]})}),Object(h.jsx)(s.a.Item,{className:"form-item-mt-10 form-item-mb-0 check_brand_detail-check-panel-item",label:"\u5ba1\u6838\u72b6\u6001",children:N}),a.refusalCause&&Object(h.jsx)(s.a.Item,{className:"form-item-mt-10 form-item-mb-0 check_brand_detail-check-panel-item check_brand_detail-check-panel-refusalCause",label:"\u4e0a\u6b21\u62d2\u7edd\u539f\u56e0",children:Object(h.jsx)("div",{style:{paddingTop:2},children:a.refusalCause})}),a.local_is_checking&&Object(h.jsx)(s.a.Item,{className:"form-item-mt-10 form-item-mb-0 check_brand_detail-check-panel-item",label:"\u5ba1\u6838",children:Object(h.jsxs)(T.a.Group,{value:a.local_checked_status,onChange:function(e){var a=e.target.value;"2"===a&&c((function(e){var c=e.content;c.brandPic.value.forEach((function(e){e.local_checked=!1})),c.cnName.local_checked=!1,c.enName.local_checked=!1,c.categories.local_checked=!1,c.producerName.local_checked=!1,c.producerTelephone.local_checked=!1,c.producerAddress.local_checked=!1,c.dealerName.local_checked=!1,c.dealerTelephone.local_checked=!1,c.dealerAddress.local_checked=!1,c.local_checked_status=a})),"3"===a&&o(a)},children:[Object(h.jsx)(T.a,{value:"3",children:"\u5ba1\u6838\u901a\u8fc7"}),Object(h.jsx)(T.a,{value:"2",children:"\u5ba1\u6838\u4e0d\u901a\u8fc7"})]})}),a.local_is_checking&&"3"===a.local_checked_status&&Object(h.jsx)(w,{data:a}),a.local_is_checking&&"2"===a.local_checked_status&&Object(h.jsx)(P,{data:a,updateData:c}),Object(h.jsx)(s.a.Item,{className:"form-item-mt-10 form-item-mb-0 check_brand_detail-check-panel-item",label:" ",colon:!1,children:Object(h.jsxs)("div",{className:"border-top-gray",style:{paddingTop:16},children:[Object(h.jsx)(A.a,{type:"primary",loading:v,onClick:function(){var e=function(e){var a={brandCode:e.brandCode,auditStatus:e.auditStatus,oldAuditStatus:e.auditStatus,customerCode:e.customerCode};e.local_is_checking&&(a.auditStatus=e.local_checked_status),a.brandPic={status:e.brandPic.status,code:e.brandPic.code,value:e.brandPic.value.map((function(e){return{subStatus:e.subStatus,subCode:e.subCode,picUrl:e.picUrl}}))},a.cnName={value:e.cnName.value,status:e.cnName.status,code:e.cnName.code},a.enName={value:e.enName.value,status:e.enName.status,code:e.enName.code},a.categories={status:e.categories.status,code:e.categories.code,value:e.categories.value.map((function(e){return{firstCategoryCode:e.firstCategoryCode,secondCategoryCode:e.secondCategoryCode||"",thirdCategoryCode:e.thirdCategoryCode||""}}))},a.producerName={value:e.producerName.value,status:e.producerName.status,code:e.producerName.code},a.producerTelephone={value:e.producerTelephone.value,status:e.producerTelephone.status,code:e.producerTelephone.code},a.producerAddress={value:{provinceCode:e.producerAddress.value.provinceCode,cityCode:e.producerAddress.value.cityCode,districtCode:e.producerAddress.value.districtCode,townCode:e.producerAddress.value.townCode,address:e.producerAddress.value.address},status:e.producerAddress.status,code:e.producerAddress.code},a.dealerName={value:e.dealerName.value,status:e.dealerName.status,code:e.dealerName.code},a.dealerTelephone={value:e.dealerTelephone.value,status:e.dealerTelephone.status,code:e.dealerTelephone.code},a.dealerAddress={value:{provinceCode:e.dealerAddress.value.provinceCode,cityCode:e.dealerAddress.value.cityCode,districtCode:e.dealerAddress.value.districtCode,townCode:e.dealerAddress.value.townCode,address:e.dealerAddress.value.address},status:e.dealerAddress.status,code:e.dealerAddress.code};var c=e.local_checked_status;if(e.local_is_checking){var l=!0;e.brandPic.value.forEach((function(e,t){e.local_checked&&!1===e.local_disabled&&(a.brandPic.value[t].subStatus=c),!1===e.local_checked&&!1===e.local_disabled&&(l=!1)})),l&&!1===e.brandPic.local_disabled&&(a.brandPic.status=c),e.cnName.local_checked&&!1===e.cnName.local_disabled&&(a.cnName.status=c),e.enName.local_checked&&!1===e.enName.local_disabled&&(a.enName.status=c),e.categories.local_checked&&!1===e.categories.local_disabled&&(a.categories.status=c),e.producerName.local_checked&&!1===e.producerName.local_disabled&&(a.producerName.status=c),e.producerTelephone.local_checked&&!1===e.producerTelephone.local_disabled&&(a.producerTelephone.status=c),e.producerAddress.local_checked&&!1===e.producerAddress.local_disabled&&(a.producerAddress.status=c),e.dealerName.local_checked&&!1===e.dealerName.local_disabled&&(a.dealerName.status=c),e.dealerTelephone.local_checked&&!1===e.dealerTelephone.local_disabled&&(a.dealerTelephone.status=c),e.dealerAddress.local_checked&&!1===e.dealerAddress.local_disabled&&(a.dealerAddress.status=c)}return D(e)&&(a.refusalCause=e.realRefusalCause),a}(a);!1!==function(e){var c=!0;if(D(a)&&(e.refusalCause||(c=!1,y.a.error({title:"\u63d0\u4ea4\u5931\u8d25",okText:"\u5173\u95ed",content:"\u7f3a\u5931\u62d2\u7edd\u539f\u56e0\uff0c\u8bf7\u8865\u5145\u3002"}))),c&&D(a)){var l=!1;a.brandPic.value.forEach((function(e){!1===e.local_disabled&&e.local_checked&&(l=!0)})),a.cnName.local_checked&&!1===a.cnName.local_disabled&&(l=!0),a.enName.local_checked&&!1===a.enName.local_disabled&&(l=!0),a.categories.local_checked&&!1===a.categories.local_disabled&&(l=!0),a.producerName.local_checked&&!1===a.producerName.local_disabled&&(l=!0),a.producerTelephone.local_checked&&!1===a.producerTelephone.local_disabled&&(l=!0),a.producerAddress.local_checked&&!1===a.producerAddress.local_disabled&&(l=!0),a.dealerName.local_checked&&!1===a.dealerName.local_disabled&&(l=!0),a.dealerTelephone.local_checked&&!1===a.dealerTelephone.local_disabled&&(l=!0),a.dealerAddress.local_checked&&!1===a.dealerAddress.local_disabled&&(l=!0),!1===l&&(c=!1,y.a.error({title:"\u63d0\u4ea4\u5931\u8d25",okText:"\u5173\u95ed",content:"\u81f3\u5c11\u52fe\u9009\u4e00\u9879\u62d2\u7edd\u7684\u5b57\u6bb5\u3002"}))}if(c&&function(e){return e.local_is_checking&&"3"===e.local_checked_status}(a))if(!1===a.local_is_included){var t=!0;!1===a.cnName.local_checked&&(t=!1),!1===a.categories.local_checked&&(t=!1),a.brandPic.value.forEach((function(e){!1===e.local_checked&&(t=!1)})),!1===t&&(c=!1,y.a.error({title:"\u63d0\u4ea4\u5931\u8d25",okText:"\u5173\u95ed",content:"\u5ba1\u6838\u901a\u8fc7\u4e2d\u5fc5\u586b\u5b57\u6bb5\u7684\u5168\u90e8\u56fe\u7247\u3001\u54c1\u724c\u540d\u79f0-\u4e2d\u6587\u3001\u6240\u5c5e\u5206\u7c7b\u5fc5\u9009\u52fe\u9009\u3002"}))}else{var d=!1;a.enName.local_checked&&!1===a.enName.local_disabled&&(d=!0),a.producerName.local_checked&&!1===a.producerName.local_disabled&&(d=!0),a.producerTelephone.local_checked&&!1===a.producerTelephone.local_disabled&&(d=!0),a.producerAddress.local_checked&&!1===a.producerAddress.local_disabled&&(d=!0),a.dealerName.local_checked&&!1===a.dealerName.local_disabled&&(d=!0),a.dealerTelephone.local_checked&&!1===a.dealerTelephone.local_disabled&&(d=!0),a.dealerAddress.local_checked&&!1===a.dealerAddress.local_disabled&&(d=!0),!1===d&&(c=!1,y.a.error({title:"\u63d0\u4ea4\u5931\u8d25",okText:"\u5173\u95ed",content:"\u81f3\u5c11\u52fe\u9009\u4e00\u9879\u672a\u5956\u52b1\u7684\u5b57\u6bb5\u3002"}))}return c}(e)&&(k(!0),u(window.$api.check_brand,e).then((function(e){y.a.success({title:a.local_is_checking?"\u63d0\u4ea4\u6210\u529f":"\u4fdd\u5b58\u6210\u529f",okText:"\u786e\u5b9a",content:e.msg,onOk:function(){l()}})})).catch((function(e){e&&6011===e.recode?y.a.error({title:a.local_is_checking?"\u63d0\u4ea4\u5931\u8d25":"\u4fdd\u5b58\u5931\u8d25",okText:"\u5237\u65b0\u9875\u9762",content:window.$utility.generateRequestErrorMsg(e),onOk:function(){window.location.reload()}}):y.a.error({title:a.local_is_checking?"\u63d0\u4ea4\u5931\u8d25":"\u4fdd\u5b58\u5931\u8d25",okText:"\u5173\u95ed",content:window.$utility.generateRequestErrorMsg(e)})})).then((function(){k(!1)})))},children:a.local_is_checking?"\u63d0\u4ea4":"\u4fdd\u5b58"}),Object(h.jsx)(A.a,{className:"ml-10",loading:_,onClick:function(){f(!0),l().then((function(){f(!1)}))},children:"\u91cd\u7f6e"})]})})]})]})},I=(c(463),{span:5});a.default=function(){var e=Object(r.h)().query,a=Object(r.c)(),c=Object(t.a)(a,1)[0],s=Object(o.a)({content:null}),i=Object(t.a)(s,2),u=i[0],_=i[1],f=Object(d.useState)(!1),v=Object(t.a)(f,2),k=v[0],N=v[1],O=function(e){_((function(a){var c="3",l=a.content;l.brandPic.status===c&&(l.brandPic.local_disabled=!0),l.brandPic.value.forEach((function(e){e.local_checked=!0,e.subStatus===c&&(e.local_disabled=!0)})),l.cnName.status===c&&(l.cnName.local_disabled=!0),l.cnName.local_checked=!0,l.categories.status===c&&(l.categories.local_disabled=!0),l.categories.local_checked=!0,l.enName.status===c?(l.enName.local_checked=!0,l.enName.local_disabled=!0):l.enName.local_checked=!1,l.producerName.status===c?(l.producerName.local_checked=!0,l.producerName.local_disabled=!0):l.producerName.local_checked=!1,l.producerTelephone.status===c?(l.producerTelephone.local_checked=!0,l.producerTelephone.local_disabled=!0):l.producerTelephone.local_checked=!1,l.producerAddress.status===c?(l.producerAddress.local_checked=!0,l.producerAddress.local_disabled=!0):l.producerAddress.local_checked=!1,l.dealerName.status===c?(l.dealerName.local_checked=!0,l.dealerName.local_disabled=!0):l.dealerName.local_checked=!1,l.dealerTelephone.status===c?(l.dealerTelephone.local_checked=!0,l.dealerTelephone.local_disabled=!0):l.dealerTelephone.local_checked=!1,l.dealerAddress.status===c?(l.dealerAddress.local_checked=!0,l.dealerAddress.local_disabled=!0):l.dealerAddress.local_checked=!1,l.realRefusalCause="",e&&(l.local_checked_status=e)}))};function g(){return k&&N(!1),c("".concat(window.$api.check_brand,"/").concat(e.brandCode,"/").concat(e.customerCode)).then((function(e){_((function(a){a.content={local_checked_status:"3",local_is_checking:"1"===e.auditStatus,local_is_included:"1"===e.collectionStatus,auditStatus:e.auditStatus,customerCode:e.customerCode,collectionStatus:e.collectionStatus,refusalCause:e.refusalCause,realRefusalCause:"",brandCode:e.brandCode,brandPic:Object(l.a)(Object(l.a)({},e.brandPic),{},{local_disabled:!1,value:e.brandPic.value.map((function(e){return Object(l.a)(Object(l.a)({},e),{},{local_checked:!1,local_disabled:!1})}))}),cnName:Object(l.a)(Object(l.a)({},e.cnName),{},{local_checked:!1,local_disabled:!1}),enName:Object(l.a)(Object(l.a)({},e.enName),{},{local_checked:!1,local_disabled:!1}),producerName:Object(l.a)(Object(l.a)({},e.producerName),{},{local_checked:!1,local_disabled:!1}),producerTelephone:Object(l.a)(Object(l.a)({},e.producerTelephone),{},{local_checked:!1,local_disabled:!1}),producerAddress:Object(l.a)(Object(l.a)({},e.producerAddress),{},{local_checked:!1,local_disabled:!1}),dealerName:Object(l.a)(Object(l.a)({},e.dealerName),{},{local_checked:!1,local_disabled:!1}),dealerTelephone:Object(l.a)(Object(l.a)({},e.dealerTelephone),{},{local_checked:!1,local_disabled:!1}),dealerAddress:Object(l.a)(Object(l.a)({},e.dealerAddress),{},{local_checked:!1,local_disabled:!1}),categories:Object(l.a)(Object(l.a)({},e.categories),{},{local_checked:!1,local_disabled:!1})}})),N(!0)})).catch((function(){}))}return Object(r.b)((function(){g()})),Object(d.useEffect)((function(){!0===k&&(!1===u.content.local_is_checking&&_((function(e){var a="3",c="2",l=e.content;l.brandPic.local_disabled=!0,l.brandPic.value.forEach((function(e){e.local_disabled=!0,e.subStatus!==a&&e.subStatus!==c||(e.local_checked=!0)})),l.cnName.local_disabled=!0,l.cnName.status!==a&&l.cnName.status!==c||(l.cnName.local_checked=!0),l.enName.local_disabled=!0,l.enName.status!==a&&l.enName.status!==c||(l.enName.local_checked=!0),l.categories.local_disabled=!0,l.categories.status!==a&&l.categories.status!==c||(l.categories.local_checked=!0),l.producerName.local_disabled=!0,l.producerName.status!==a&&l.producerName.status!==c||(l.producerName.local_checked=!0),l.producerTelephone.local_disabled=!0,l.producerTelephone.status!==a&&l.producerTelephone.status!==c||(l.producerTelephone.local_checked=!0),l.producerAddress.local_disabled=!0,l.producerAddress.status!==a&&l.producerAddress.status!==c||(l.producerAddress.local_checked=!0),l.dealerName.local_disabled=!0,l.dealerName.status!==a&&l.dealerName.status!==c||(l.dealerName.local_checked=!0),l.dealerTelephone.local_disabled=!0,l.dealerTelephone.status!==a&&l.dealerTelephone.status!==c||(l.dealerTelephone.local_checked=!0),l.dealerAddress.local_disabled=!0,l.dealerAddress.status!==a&&l.dealerAddress.status!==c||(l.dealerAddress.local_checked=!0)})),u.content.local_is_checking&&O())}),[k]),u.content?Object(h.jsxs)("div",{className:"h-full relative",children:[Object(h.jsxs)("div",{className:"".concat(b.a["base-info-box"]," ").concat("2"===u.content.local_checked_status?"check_brand_detail-info-box":""," absolute scroll-y"),children:[Object(h.jsx)(n.a,{children:"\u57fa\u672c\u4fe1\u606f"}),Object(h.jsx)(m,{data:u.content,labelCol:I}),Object(h.jsx)(p,{data:u.content,labelCol:I,updateData:_}),Object(h.jsx)(j,{data:u.content,labelCol:I,updateData:_,options:{label:"\u54c1\u724c\u540d\u79f0-\u4e2d\u6587",field:"cnName",required:!0}}),Object(h.jsx)(j,{data:u.content,labelCol:I,updateData:_,options:{label:"\u54c1\u724c\u540d\u79f0-\u82f1\u6587",field:"enName"}}),Object(h.jsx)(x,{data:u.content,labelCol:I,updateData:_}),Object(h.jsx)(n.a,{className:"mt-8",children:"\u6269\u5c55\u4fe1\u606f"}),Object(h.jsx)(j,{data:u.content,labelCol:I,updateData:_,options:{label:"\u5382\u5bb6\u540d\u79f0",field:"producerName"}}),Object(h.jsx)(j,{data:u.content,labelCol:I,updateData:_,options:{label:"\u5382\u5bb6\u8054\u7cfb\u7535\u8bdd",field:"producerTelephone"}}),Object(h.jsx)(C,{data:u.content,labelCol:I,updateData:_,options:{label:"\u5382\u5bb6\u5730\u5740",field:"producerAddress"}}),Object(h.jsx)(j,{data:u.content,labelCol:I,updateData:_,options:{label:"\u7ecf\u9500\u5546\u540d\u79f0",field:"dealerName"}}),Object(h.jsx)(j,{data:u.content,labelCol:I,updateData:_,options:{label:"\u7ecf\u9500\u5546\u8054\u7cfb\u7535\u8bdd",field:"dealerTelephone"}}),Object(h.jsx)(C,{data:u.content,labelCol:I,updateData:_,options:{label:"\u7ecf\u9500\u5546\u5730\u5740",field:"dealerAddress"}})]}),Object(h.jsx)("div",{className:b.a["action-box"],children:Object(h.jsx)(E,{data:u.content,updateData:_,doFetchBrandData:g,selectItemChecked:O})})]}):null}}}]);